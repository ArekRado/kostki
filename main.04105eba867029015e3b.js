"use strict";(self.webpackChunkkostki=self.webpackChunkkostki||[]).push([[179],{1363:(e,t,a)=>{a.d(t,{$:()=>Mr});var o=a(1361);let r,l,s,d,p,n;var y;(y=r||(r={})).box="box",y.ai="ai",y.game="game",y.marker="marker",y.background="background",y.logo="logo",y.gameMap="gameMap",y.tutorial="tutorial",function(e){e.mainMenu="mainMenu",e.customLevel="customLevel",e.customLevelSettings="customLevelSettings"}(l||(l={})),function(e){e.mainMenu="mainMenu",e.campaignLevel="campaignLevel",e.campaignLevelSelect="campaignLevelSelect",e.customLevel="customLevel",e.customLevelSettings="customLevelSettings"}(s||(s={})),function(e){e.easy="customLevelSettings easy",e.medium="customLevelSettings medium",e.hard="customLevelSettings hard",e.random="customLevelSettings random"}(d||(d={})),function(e){e.disabled="disabled",e.random="random",e.easy="easy",e.medium="medium",e.hard="hard"}(p||(p={})),function(e){e[e.less=-1]="less",e[e.equal=0]="equal",e[e.more=1]="more"}(n||(n={}));var i=a(7455),c=a(9322),m=a(9228),u=a(5431),g=a(9154);const v={},h=e=>{let{textureUrl:t,scene:a}=e;const o=new g.x(t,a,void 0,void 0,g.x.NEAREST_NEAREST_MIPLINEAR);return v[t]=o,o},f=a.p+"57365b6b32a38acad399fa24be970b62.png",b=a.p+"86711768640182ba9774e66c59e43713.png",x=a.p+"d5fd50f6577249e4bd0a6cedc07b855c.png",E=a.p+"1cece826ef3290f02e8ab121defa70e5.png",M=a.p+"04486ea103fd49156ce128e43c00f4af.png",k=a.p+"4c8888485f10730f523694c6ac7449e4.png",w=a.p+"3bb45fa09a5eb9cd805c7f32aab31591.png",T=a.p+"289b33e3a3e1c125f813747944282bbb.png",C=a.p+"e7015b6db11decc2aa7f722b6eaaa343.png",L=a.p+"7e6aabd8e3d92edca81c0207761816f0.png",S=a.p+"1a202abfbdfbb945f566e890f0e0fa7f.png",P=a.p+"ad7c3be816ce34c76152ecc6c61d263b.png",I=a.p+"8711d0d55135c6a04bf3e76aa6287504.png",R=a.p+"717e6eb5fb82bedfc88f6dc0c65b6f12.png",B=a.p+"16c7f9cc6c2acada16547b3befe94a91.png",N=a.p+"2d2b2519ce6d9ed0c93cd7ed21aed043.png",q=a.p+"7fa7abdc3e479f97ee5f6b283630df03.png",j=a.p+"f3941c38549dddc4a8cb586591e36996.png",K=a.p+"62bd7e3778d77e5ca308fcb5f4b0da78.png",A=a.p+"2f30a46bdc58014e8ba857f895bbe5b8.png",O=a.p+"de0b87223c2e5708366657b7da01c941.png",$=a.p+"54b2699e76fca159c5797b2b93b10bd4.png",U=a.p+"3d713800c02422e02fe02e70f53e9771.png",W=a.p+"2f9682e3f7d362cc3087ef4dcbbdfd2b.png",G=a.p+"62f6adca2ae3c6e088aac66bc47cb54e.png",F=a.p+"9bb2d886948bbd78603ec224904774fd.png",D=a.p+"2d9f8ec02b7087dc45bf61208aacf7a8.png",z=a.p+"4fd5888696b352601fd6c1f7a1420e1f.png",X=a.p+"d62f41f971620bf90529571efed25c8e.png",Q=a.p+"2c7434786497b8ccb02757089a53015a.png",Y=a.p+"51f16b6b18086fcc295f8bc02e6c8c45.png",H=a.p+"0dfd6a6b5e5120be13c81ddc1d84a1df.png",J=a.p+"301a367840edef78b86808852d0c067e.png",V=a.p+"d854a7c9f810ebe5be07e17990bd0ee4.png",_=a.p+"777079c111d24a4a0402f5afbc95b175.png",Z=a.p+"e1b39772fd20282e80743b1f04be6795.png",ee=a.p+"24075b75ce25b7869e6559cccca76b75.png",te=a.p+"698b6e6ce4fcc13dd8ac2cdb9bb484fe.png",ae=a.p+"38ca2b18556222743ee8778742514d73.png",oe=a.p+"aebe569c1bf5190e0038b7098791359c.png",re=a.p+"d1390ce752b5ee52126d21de796a81f8.png",le=a.p+"d54421100963619575d7b3f35876fdfe.png",se=a.p+"cde379b0a92320968a3826f29eff20fc.png",de=a.p+"d1b88dc4aa017270afbb48ce8c2d93ee.png",pe=a.p+"f07f0db4072406727dc668f8f643b725.png",ne=a.p+"f60fcf550b1112ec6a6bb8c80cc4b142.png",ye=a.p+"5fded717b6adc588c2dcdedd900f3bea.png",ie=a.p+"ed032e786ebb26ea79c773fd85684876.png",ce=a.p+"7960efbc05f46d226a4e232b391a79ea.png",me=[f,b,x,E,M,k,w],ue=[f,T,C,L,S,P,I],ge=[f,R,B,N,q,j,K],ve=[f,A,O,$,U,W,G],he=[f,F,D,z,X,Q,Y],fe=[f,H,J,V,_,Z,ee],be=[f,te,ae,oe,re,le,se],xe=[f,de,pe,ne,ye,ie,ce],Ee=e=>{let{state:t}=e;const a=t.babylonjs.sceneRef;return a?((e=>{setTimeout((()=>{me.forEach((t=>{const a=new Image;a.src=t,a.onload=()=>{h({textureUrl:t,scene:e})}}))}),2e3*Math.random()+1e3)})(a),t):t},Me="game";let ke;!function(e){let t;!function(e){e.startCustomLevel="GameEvent-startCustomLevel",e.boxExplosion="GameEvent-boxExplosion",e.playerClick="GameEvent-playerClick",e.cleanScene="GameEvent-cleanScene",e.shakeAiBoxes="GameEvent-shakeAiBoxes",e.playAgainCustomLevel="GameEvent-playAgainCustomLevel",e.changePlayers="GameEvent-changePlayers",e.changeDifficulty="GameEvent-changeDifficulty",e.changeQuickStart="GameEvent-changeQuickStart",e.changeColorBlindMode="GameEvent-changeColorBlindMode",e.changeMapType="GameEvent-changeMapType",e.startCampaignLevel="GameEvent-startCampaignLevel"}(t||(t={})),e.Type=t}(ke||(ke={}));const we=(0,u.o)({entity:Me,name:r.game}),Te=we.getComponent,Ce=we.setComponent;var Le=a(2922);const Se=e=>{let{mesh:t,texture:a,scene:o,color:r}=e;r&&(t.material.diffuseColor=new Le.Wo(r[0],r[1],r[2]));const l=(e=>{let{textureUrl:t,scene:a}=e;return v[t]?v[t]:h({textureUrl:t,scene:a})})({textureUrl:a,scene:o});return t.material.diffuseTexture=l,l},Pe=e=>{let{state:t,ai:a}=e;const o=Te({state:t});return a&&null!=o&&o.colorBlindMode?a.textureSet:me};var Ie=a(4179),Re=a(5412),Be=a(2694),Ne=a(7801),qe=a(2345),je=a(9798),Ke=a(5935);const Ae=1.2,Oe=e=>{let{state:t,component:a}=e;const o=t.babylonjs.sceneRef;if(!o)return t;const{gridPosition:l}=a,s=(0,i.X)({state:t,name:r.ai,entity:a.player||""});return t=(0,c.L)({state:t,data:{name:m.f.transform,entity:a.entity,rotation:[0,0,0],fromParentRotation:[0,0,0],scale:[1,1,1],fromParentScale:[1,1,1],position:[l[0]*Ae,l[1]*Ae],fromParentPosition:[0,0]}}),(e=>{let{scene:t,name:a,uniqueId:o,color:r,state:l,ai:s,dots:d,isClickable:p,scaleFactor:n=1}=e;const y=1/n,i=new Ie.Y(`box ${a}`,t);i.uniqueId=o,[[new Re.P(0,0,-y/2),new Re.P(0,0,0)],[new Re.P(-y/2,0,0),new Re.P(0,Math.PI/2,0)],[new Re.P(0,0,y/2),new Re.P(0,Math.PI,0)],[new Re.P(y/2,0,0),new Re.P(0,-Math.PI/2,0)],[new Re.P(0,y/2,0),new Re.P(Math.PI/2,0,0)],[new Re.P(0,-y/2,0),new Re.P(-Math.PI/2,0,0)]].forEach(((e,a)=>{let[n,c]=e;const m=Ne.V.CreatePlane("plane"+a.toString(),{size:y});m.parent=i,m.material=new Be.K("mat",t),Se({mesh:m,color:r,texture:Pe({state:l,ai:s})[d],scene:t}),m.material.alpha=1,m.position=n,m.rotation=c,p&&(m.actionManager=new qe.k(t),m.actionManager.registerAction(new je.fQ(qe.k.OnPickUpTrigger,(()=>{(0,Ke.Kn)({type:ke.Type.playerClick,payload:{boxEntity:o.toString()}})}))))}))})({scene:o,name:`${l[0]}-${l[1]}`,uniqueId:parseFloat(a.entity),color:[1,1,1],ai:s,dots:0,state:t,isClickable:!0}),t},$e=e=>{let{state:t,component:a}=e;if(t.babylonjs.sceneRef){const e=t.babylonjs.sceneRef.getTransformNodeByUniqueId(parseInt(a.entity));null==e||e.dispose()}return t};let Ue,We;!function(e){e.up="up",e.down="down",e.left="left",e.right="right",e.random="random"}(Ue||(Ue={})),function(e){let t;!function(e){e.onClick="BoxEvent-onClick",e.rotationEnd="BoxEvent-rotationEnd",e.rotateStart="BoxEvent-rotate"}(t||(t={})),e.Type=t}(We||(We={}));const Ge=a.p+"de1ab0613214552916d369d2014d1d95.png";var Fe=a(2646),De=a(8141),ze=a(4281);const Xe=()=>Math.floor(1e17*Math.random());var Qe=a(8375);const Ye=e=>e>2*Math.PI||e<-2*Math.PI?-2*Math.PI:e,He=Math.PI/2,Je=e=>{let{boxUniqueId:t,direction:a=Ue.random,color:o,texture:l,state:s,nextTurn:d,shouldExplode:p}=e;const n=s.babylonjs.sceneRef;if(!n)return s;const y=n.getTransformNodeByUniqueId(parseInt(t));if(y){s=(0,Qe.K)({state:s,name:r.box,entity:t,update:e=>({...e,isAnimating:!0})});let e=He*(Math.random()>.5?1:-1),i=Math.random()>.5?"x":"y";switch(a){case Ue.down:e=-1*He,i="x";break;case Ue.up:e=1*He,i="x";break;case Ue.right:e=-1*He,i="y";break;case Ue.left:e=1*He,i="y";break;case Ue.random:e=He*(Math.random()>.5?1:-1),i=Math.random()>.5?"x":"y"}y.rotation.z=0;const u=[y.rotation.x,y.rotation.y,y.rotation.z],g=["x"===i?e:0,"y"===i?e:0,u[2]],v=[Ye(g[0]+u[0]),Ye(g[1]+u[1]),Ye(g[2]+u[2])],h={type:We.Type.rotationEnd,payload:{boxEntity:t,texture:l,color:o,nextTurn:d,shouldExplode:p}};s=(0,c.L)({state:s,data:{name:m.f.animation,entity:t,isPlaying:!0,isFinished:!1,currentTime:0,deleteWhenFinished:!0,wrapMode:Fe.f.WrapMode.once,timingMode:Fe.f.TimingMode.smooth,properties:[{path:"rotation",component:m.f.transform,entity:t,keyframes:[{duration:500,timingFunction:"Linear",valueRange:[u,v],endFrameEvent:h}]}]}});const f=y.getChildren();f.slice(1,f.length).forEach((e=>{const t=n.getMeshByUniqueId(e.uniqueId);t&&Se({mesh:t,color:o,texture:l,scene:n})}))}return s},Ve="38127445920450264";let _e;!function(e){let t;!function(e){e.appearAnimationEnd="MarkerEvent-appearAnimationEnd"}(t||(t={})),e.Type=t}(_e||(_e={}));const Ze=(0,u.o)({entity:Ve,name:r.marker}),et=(Ze.getComponent,e=>{let{state:t,data:a}=e;t=(0,Qe.K)({state:t,name:m.f.material,entity:Ve,update:e=>({diffuseColor:a.color?[a.color[0],a.color[1],a.color[2],0]:e.diffuseColor})}),t=(0,Qe.K)({state:t,entity:Ve,name:m.f.transform,update:e=>({position:a.position?[a.position[0],a.position[1],-1]:e.position})});const o={type:_e.Type.appearAnimationEnd,payload:null};return t=(0,c.L)({state:t,data:{name:m.f.animation,entity:Ve,deleteWhenFinished:!0,isPlaying:!0,isFinished:!1,currentTime:0,wrapMode:Fe.f.WrapMode.once,timingMode:Fe.f.TimingMode.smooth,properties:[{path:"scale",component:m.f.transform,entity:Ve,keyframes:[{duration:400,timingFunction:"Linear",valueRange:[[2,2,1],[.9,.9,1]],endFrameEvent:o}]},{path:"alpha",component:m.f.material,entity:Ve,keyframes:[{duration:400,timingFunction:"Linear",valueRange:[0,1]}]}]}}),Ze.setComponent({state:t,data:a})}),tt=[[1,0,0,1,0,0,1,1,0,0,0,1,1,0,1,1,1,0,1,0,0,1,0,1],[1,0,1,0,0,1,0,0,1,0,1,0,0,0,0,1,0,0,1,0,1,0,0,1],[1,1,0,0,0,1,0,0,1,0,1,1,1,0,0,1,0,0,1,1,0,0,0,1],[1,0,1,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,1,0,1,0,0,1],[1,0,0,1,0,0,1,1,0,0,1,1,0,0,0,1,0,0,1,0,0,1,0,1]].reduce(((e,t,a)=>(e[a]=t.reduce(((e,t,a)=>{if(0===t)e[a]="";else{const t=Xe().toString();e[a]=t}return e}),[]),e)),[]);var at=a(9779),ot=a(3600);const rt=e=>{let{percentage:t,total:a}=e;return a*t},lt=e=>{let{state:t,data:a}=e;const o=(0,ot.bp)({state:t});return t=(0,ot.GR)({state:t,data:{...o,...a}}),t=(e=>{let{state:t}=e;const a=(0,ot.bp)({state:t});if(!a)return t;const{topEdge:o,boxSize:r,screenSize:l}=(e=>{let{state:t,boxScaleFactor:a}=e;const o=(0,ot.bp)({state:t});return o?{leftEdge:o.position[0]+o.left,topEdge:o.position[1]+o.top,boxSize:Ae/a,screenSize:[2*o.right,2*o.top]}:{leftEdge:0,topEdge:0,boxSize:0,screenSize:[0,0]}})({state:t,boxScaleFactor:3.2}),s=[tt[0].length*r,tt.length*r],d=[a.position[0]-s[0]/2,o-rt({total:l[1],percentage:.1})];return t=tt.reduce(((e,t,a)=>t.reduce(((e,t,o)=>{if(""===t)return e;const l=[d[0]+o*r,d[1]+-a*r];return(0,Qe.K)({state:e,name:m.f.transform,entity:t,update:()=>({position:[l[0],l[1]],scale:[.3125,.3125,.3125]})})}),e)),t),t})({state:t}),t},st=e=>{let{state:t}=e;return t.babylonjs.sceneRef?(t=tt.reduce(((e,t,a)=>t.reduce(((e,t,o)=>""===t?e:(e=(0,at.J)({state:e,entity:t}),(0,c.L)({state:e,data:{name:r.box,entity:t,isAnimating:!1,dots:0,gridPosition:[o,a],player:""}}))),e)),t),t=lt({state:t,data:{}}),(0,Ke.Kn)({type:nt.Type.rotateRandomLogoBox,payload:null}),t):t},dt=e=>{let{state:t}=e;const a=t.babylonjs.sceneRef;return a?(t=tt.flat().reduce(((e,t)=>{const o=a.getTransformNodeByUniqueId(parseFloat(t));return null==o||o.dispose(),(0,ze.S)({state:e,entity:t})}),t),t):t},pt="8523773494048061";let nt;!function(e){let t;!function(e){e.rotateRandomLogoBox="LogoEvent-rotateRandomLogoBox"}(t||(t={})),e.Type=t}(nt||(nt={}));var yt=a(9655);const it=(e,t)=>{document.dispatchEvent(new CustomEvent(e,{detail:t}))},ct=e=>{let{state:t,name:a}=e;const o=(0,yt.C)({state:t,name:a});return o?Object.keys(o).reduce(((e,t)=>(0,ze.S)({state:e,entity:t})),t):t},mt=e=>{let{state:t,event:a}=e;return t=Ce({state:t,data:{page:a.payload.newPage,turn:0,grid:[],currentPlayer:"",playersQueue:[],boxRotationQueue:[],gameStarted:!1}}),t=ct({name:r.box,state:t}),t=ct({name:r.ai,state:t}),t=ct({name:r.marker,state:t}),t=ct({name:r.background,state:t}),t=ct({name:r.logo,state:t}),t=ct({name:r.tutorial,state:t}),t=ut({state:t,page:a.payload.newPage}),it("setUIState",t),t},ut=e=>{let{state:t,page:a}=e;return a===s.mainMenu&&(t=(0,Qe.K)({state:t,entity:ot.lw,name:m.f.camera,update:()=>({position:[0,0],distance:5})}),t=(0,at.J)({state:t,entity:pt}),t=(0,c.L)({state:t,data:{entity:pt,name:r.logo}})),t},gt=a.p+"48ac24087a2220449aefd17447f54715.png",vt="tutorial",ht=Xe().toString();let ft;!function(e){let t;!function(e){e.appearAnimationEnd="MarkerEvent-appearAnimationEnd"}(t||(t={})),e.Type=t}(ft||(ft={}));const bt=e=>{let{value:t,min:a,max:o}=e;return t<=a?a:t>=o?o:t},xt=(e,t,a)=>(a<0&&(a+=1),a>1&&(a-=1),a<1/6?e+6*(t-e)*a:a<.5?t:a<2/3?e+(t-e)*(2/3-a)*6:e),Et=[1,1,1],Mt=[.6,.6,.6],kt=[.11,.79,.29],wt=[.09,.84,1],Tt=[1,.73,.29],Ct=[.99,.97,.32],Lt=[.99,.42,.45],St=[.99,.47,.94],Pt=[.67,.23,.94],It=(e,t)=>e+Math.random()*t-Math.random()*t,Rt=e=>{const t=(e=>{let[t,a,o]=e;const r=Math.max(t,a,o),l=Math.min(t,a,o);let s,d;const p=(r+l)/2;if(r==l)s=d=0;else{const e=r-l;switch(d=p>.5?e/(2-r-l):e/(r+l),r){case t:s=(a-o)/e+(a<o?6:0);break;case a:s=(o-t)/e+2;break;case o:s=(t-a)/e+4}s/=6}return[s,d,p]})(e),a=[t[0],bt({value:It(t[1],.2),min:.3,max:1}),bt({value:It(t[2],.2),min:.3,max:.7})];return(e=>{let t,a,o,[r,l,s]=e;if(0==l)t=a=o=s;else{const e=s<.5?s*(1+l):s+l-s*l,d=2*s-e;t=xt(d,e,r+1/3),a=xt(d,e,r),o=xt(d,e,r-1/3)}return[t,a,o]})([a[0],a[1],a[2]])},Bt=e=>[Rt(e),Rt(e),Rt(e),Rt(e),Rt(e),Rt(e),Rt(e),Rt(e),Rt(e),Rt(e)],Nt=(Bt(Mt),Bt(kt),Bt(wt),Bt(Tt),Bt(Ct),Bt(Lt),Bt(St),Bt(Pt),function(e,t,a){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:p.easy;return{entity:e,name:r.ai,human:o,level:l,color:t,textureSet:a,active:!0}}),qt=()=>[Nt(Mr,wt,me,!0,p.easy),Nt("2",Lt,ue,!1,p.easy),Nt("3",kt,ge,!1,p.easy),Nt("4",Ct,ve,!1,p.easy),Nt("5",Tt,he,!1,p.easy),Nt("6",St,fe,!1,p.easy),Nt("7",Mt,be,!1,p.easy),Nt("8",Pt,xe,!1,p.easy)],jt="localDbKey",Kt=e=>{const t=Te({state:e}),a=Object.values((0,yt.C)({name:r.gameMap,state:e})??{});t&&At({unlockedCampaignMapEntities:a.reduce(((e,t)=>{let{entity:a,locked:o}=t;return o?e:[...e,a]}),[]),players:t.customLevelSettings.players,difficulty:t.customLevelSettings.difficulty,quickStart:t.customLevelSettings.quickStart,mapEntity:t.customLevelSettings.mapEntity,colorBlindMode:t.colorBlindMode,version:t.version})},At=e=>{localStorage.setItem(jt,JSON.stringify(e))};var Ot=a(7926);const $t=(e,t)=>{const a=(e=>{const t=e.getEngine().getRenderingCanvasClientRect();return null!==t?t.height/t.width:1})(t);return a>1?{left:-e,right:e,bottom:-e*a,top:e*a}:{bottom:-e,top:e,left:-e/a,right:e/a}},Ut=(e,t,a)=>{var o;return null==e||null===(o=e[a])||void 0===o?void 0:o[t]},Wt=e=>[e[1][0],e[0][1],e[1][2],e[2][1]],Gt=(e,t)=>{let[a,o]=t;return[[Ut(e,o-1,a-1),Ut(e,o,a-1),Ut(e,o+1,a-1)],[Ut(e,o-1,a),Ut(e,o,a),Ut(e,o+1,a)],[Ut(e,o-1,a+1),Ut(e,o,a+1),Ut(e,o+1,a+1)]]},Ft=e=>{let{state:t}=e;const a=Te({state:t});return a?a.grid.reduce(((e,a)=>{const o=(0,i.X)({name:r.box,state:t,entity:a});if(o){const t=o.gridPosition[0],a=o.gridPosition[1];e[t]||(e[t]=[]),e[t][a]={...o,points:0}}return e}),[]):[]},Dt=e=>{let{entity:t,state:a}=e;return(0,Qe.K)({state:a,name:r.game,entity:Me,update:e=>({boxRotationQueue:[...e.boxRotationQueue,t]})})},zt=e=>6===e?1:e+1,Xt=e=>{let{state:t,ai:a,box:o}=e;const{entity:l}=o,s=zt(o.dots);return t=Je({state:t,boxUniqueId:l,texture:Pe({state:t,ai:a})[s],color:a.color,nextTurn:!0,shouldExplode:6===o.dots}),t=Dt({entity:l,state:t}),t=(0,Qe.K)({state:t,name:r.box,entity:l,update:()=>({isAnimating:!0,player:(null==a?void 0:a.entity)||"",dots:s})}),t},Qt={emptyBox:50,preferEmptyBoxes:15,advancedAttack:7,adjacted:{playerMoreThanOponent:0,playerEqualToOponent:10,playerLessThanOponent:-10,playerMoreThanPlayer:-5,playerEqualToPlayer:-4,playerLessThanPlayer:-15,sixToSix:50,toBorder:0},diagonall:{playerMoreThanOponent:1,playerEqualToOponent:2,playerLessThanOponent:7,playerMoreThanPlayer:-5,playerEqualToPlayer:-4,playerLessThanPlayer:0,toBorder:0}},Yt={emptyBox:50,preferEmptyBoxes:15,advancedAttack:0,adjacted:{playerMoreThanOponent:0,playerEqualToOponent:2,playerLessThanOponent:-2,playerMoreThanPlayer:-1,playerEqualToPlayer:-1,playerLessThanPlayer:-2,sixToSix:2,toBorder:0},diagonall:{playerMoreThanOponent:1,playerEqualToOponent:1,playerLessThanOponent:2,playerMoreThanPlayer:-1,playerEqualToPlayer:-1,playerLessThanPlayer:0,toBorder:0}},Ht={emptyBox:50,preferEmptyBoxes:15,advancedAttack:0,adjacted:{playerMoreThanOponent:0,playerEqualToOponent:0,playerLessThanOponent:-2,playerMoreThanPlayer:-2,playerEqualToPlayer:0,playerLessThanPlayer:-2,sixToSix:2,toBorder:0},diagonall:{playerMoreThanOponent:5,playerEqualToOponent:0,playerLessThanOponent:5,playerMoreThanPlayer:-2,playerEqualToPlayer:0,playerLessThanPlayer:0,toBorder:0}},Jt=e=>{let{state:t,ai:a,preferEmptyBoxes:o}=e;const r=a.entity,l={[p.disabled]:Ht,[p.random]:Ht,[p.easy]:Ht,[p.medium]:Yt,[p.hard]:Qt}[a.level];let s=Ft({state:t});if(s=(e=>{let{dataGrid:t,aIGridPoints:a}=e;return t.reduce(((e,t,o)=>(e[o]=t.reduce(((e,t,o)=>{const r=void 0===t.player?t.points+a.emptyBox:t.points;return e[o]={...t,points:r},e}),t),e)),t)})({dataGrid:s,aIGridPoints:l}),s=(e=>{let{dataGrid:t,currentPlayer:a,preferEmptyBoxes:o,aIGridPoints:r}=e;return t.reduce(((e,l,s)=>(e[s]=l.reduce(((e,l,d)=>{if(l.player!==a.entity&&void 0!==l.player)return e;const p=Gt(t,[s,d]),y=(e=>{let{grid3x3:t,preferEmptyBoxes:a,currentPlayer:o,aIGridPoints:r}=e;const l=t[1][1];return Wt(t).reduce(((e,t)=>{if(!t)return e+r.adjacted.toBorder;const s=l.dots===t.dots?n.equal:l.dots>t.dots?n.more:n.less;if(t.player!==l.player&&void 0!==t.player){if(a&&void 0===l.player&&t.player===o.entity)return Math.random()>.5?e+r.preferEmptyBoxes:e;if(s===n.more){const a=l.dots-t.dots;return e+r.adjacted.playerMoreThanOponent-a}if(s===n.equal)return e+r.adjacted.playerEqualToOponent*l.dots;if(s===n.less){const a=l.dots-t.dots-t.dots;return e+r.adjacted.playerLessThanOponent*Math.abs(a)}}else{if(6===l.dots)return e;if(s===n.more)return e+r.adjacted.playerMoreThanPlayer;if(s===n.equal)return 6===t.dots&&6===l.dots?e+r.adjacted.sixToSix:e+r.adjacted.playerEqualToPlayer;if(s===n.less)return 6===t.dots?e+2*r.adjacted.playerLessThanPlayer:e+r.adjacted.playerLessThanPlayer}return e}),0)})({grid3x3:p,preferEmptyBoxes:o,currentPlayer:a,aIGridPoints:r})+(e=>{let{grid3x3:t,aIGridPoints:a}=e;const o=t[1][1],r=(e=>[e[0][0],e[0][2],e[2][0],e[2][2]])(t);return r.reduce(((e,t)=>{if(!t)return e+a.diagonall.toBorder;const r=o.dots===t.dots?n.equal:o.dots>t.dots?n.more:n.less;if(t.player!==o.player&&void 0!==t.player){if(r===n.more)return e+a.diagonall.playerMoreThanOponent;if(r===n.equal)return 6===t.dots?e+-10*a.diagonall.playerEqualToOponent:e+a.diagonall.playerEqualToOponent;if(r===n.less)return 6===t.dots?e+2*a.diagonall.playerLessThanOponent:e+a.diagonall.playerLessThanOponent}else{if(6===o.dots)return e;if(r===n.more)return e+a.diagonall.playerMoreThanPlayer;if(r===n.equal)return e+a.diagonall.playerEqualToPlayer;if(r===n.less){const r=t.dots-o.dots;return e+a.diagonall.playerLessThanPlayer+r**2}}return e}),0)})({grid3x3:p,preferEmptyBoxes:o,currentPlayer:a,aIGridPoints:r});return e[d]={...l,points:l.points+y},e}),l),e)),t)})({currentPlayer:a,dataGrid:s,preferEmptyBoxes:!!o,aIGridPoints:l}),!o)switch(a.level){case p.disabled:s=(e=>{let{dataGrid:t}=e;return t.reduce(((e,t,a)=>(e[a]=t.reduce(((e,t,a)=>(e[a].player="-1",e)),t),e)),t)})({dataGrid:s});break;case p.random:s=(e=>{let{dataGrid:t,currentPlayer:a}=e;return t.reduce(((e,t,o)=>(e[o]=t.reduce(((e,t,o)=>(t.player!==a||void 0===t.player||(e[o]={...t,points:100*Math.random()}),e)),t),e)),t)})({dataGrid:s,currentPlayer:r});break;case p.hard:s=(e=>{let{dataGrid:t,currentPlayer:a}=e;return t.reduce(((e,o,r)=>(e[r]=o.reduce(((e,o,l)=>{if(o.player!==a)return e;const s=Gt(t,[r,l]),d=Wt(s),p=d.some((e=>6===(null==e?void 0:e.dots)));if(p)return e;const n=d.reduce(((e,r)=>{if(!r)return e;const l=void 0!==r.player&&r.player!==a,s=o.dots>=r.dots;if(l&&s){const l=(e=>{let{currentPlayer:t,adjactedBox:a,dataGrid:o,position:[r,l]}=e;const s=Gt(o,[r,l]);return Wt(s).every((e=>void 0===e||e.player===t||void 0===e.player||e.dots<=a.dots))})({currentPlayer:a,adjactedBox:r,dataGrid:t,position:r.gridPosition});if(l){const t=6/o.dots;e+=r.dots*Qt.advancedAttack/t}}return e}),0);return e[l]={...o,points:o.points+n},e}),o),e)),t)})({dataGrid:s,currentPlayer:r})}const d=(e=>{let{currentPlayer:t,dataGrid:a}=e,o=-1/0,r=[];a.forEach((e=>{e.forEach((e=>{const a=void 0===e.player,l=e.player===t;(a||l)&&(e.points>o&&(r=[]),e.points>=o&&(o=e.points,r.push(e)))}))}));const l=Math.floor(Math.random()*r.length);return r[l]})({currentPlayer:r,dataGrid:s});return d},Vt=e=>{let{playersQueue:t,index:a,state:o}=e;const l=(0,i.X)({state:o,name:r.ai,entity:t[a]});return null!=l&&l.active?l:Vt({playersQueue:t,index:a>=t.length?0:a+1,state:o})},_t=e=>{let{state:t}=e;const a=Te({state:t});if(!a||0===(null==a?void 0:a.playersQueue.length))return;const o=a.playersQueue.findIndex((e=>a.currentPlayer===e));return Vt({playersQueue:a.playersQueue,index:o+1,state:t})};var Zt=a(827),ea=a(6553);const ta={entity:"gameMap-campaign-0",campaignNumber:0,locked:!1,players:[{human:!0,color:wt,level:p.easy},{human:!1,color:Lt,level:p.disabled}],grid:[[{player:0,dots:1},{player:0,dots:2},{player:0,dots:1},{player:0,dots:2}],[{player:0,dots:1},{player:0,dots:2},{player:0,dots:3},{player:0,dots:1}],[{player:0,dots:2},{player:0,dots:4},{player:1,dots:4},{player:1,dots:2}],[{player:0,dots:2},{player:0,dots:5},{player:1,dots:4},{player:1,dots:1}]]},aa={entity:"gameMap-campaign-1",campaignNumber:1,locked:!1,players:[{human:!0,color:wt,level:p.easy},{human:!1,color:Lt,level:p.disabled}],grid:[[{player:0,dots:1},{player:0,dots:1},{player:1,dots:1},{player:1,dots:6}],[{player:0,dots:1},{player:0,dots:1},{player:1,dots:1},{player:1,dots:6}],[{player:0,dots:1},{player:0,dots:6},{player:1,dots:6},{player:1,dots:6}],[{player:0,dots:1},{player:0,dots:1},{player:1,dots:1},{player:1,dots:1}]]},oa={entity:"gameMap-campaign-2",campaignNumber:2,locked:!1,players:[{human:!0,color:wt,level:p.easy},{human:!1,color:Lt,level:p.disabled}],grid:[[{player:0,dots:6},{player:0,dots:6},{player:0,dots:3},{player:0,dots:2}],[{player:1,dots:5},{player:0,dots:6},{player:0,dots:5},{player:1,dots:5}],[{player:1,dots:6},{player:1,dots:5},{player:1,dots:6},{player:1,dots:3}],[{player:1,dots:3},{player:1,dots:2},{player:1,dots:1},{player:1,dots:1}]]},ra={entity:"gameMap-campaign-3",campaignNumber:3,locked:!1,players:[{human:!0,color:wt,level:p.easy},{human:!1,color:Lt,level:p.random}],grid:[[{player:1,dots:1},{player:1,dots:1},{player:1,dots:1},{player:1,dots:1}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:0,dots:1},{player:0,dots:1},{player:0,dots:1},{player:0,dots:1}]]},la=e=>{let{state:t,gridPosition:a,isPickable:o=!1}=e;const l=t.babylonjs.sceneRef;if(!l)return t;const s=Object.values((0,yt.C)({state:t,name:r.box})??{}),d=s.find((e=>(0,ea.fS)(e.gridPosition,a)));return s.forEach((e=>{const t=l.getTransformNodeByUniqueId(parseInt(e.entity));(null==d?void 0:d.entity)!==e.entity&&t&&t.getChildren().forEach((e=>{const t=l.getMeshByUniqueId(e.uniqueId);t&&(t.isPickable=o)}))})),t},sa=e=>{let{state:t}=e;return t=(0,Qe.K)({state:t,entity:vt,name:m.f.transform,update:()=>({position:[9999,9999,9999]})}),t=la({state:t,gridPosition:[-1,-1],isPickable:!0}),da({state:t,tipText:null})},da=e=>{let{state:t,tipText:a}=e;return t=(0,Qe.K)({state:t,entity:vt,name:r.tutorial,update:()=>({tipText:a})}),it("setUIState",t),t},pa=e=>{let{state:t,gridPosition:a}=e;const o=(0,yt.C)({state:t,name:r.box}),l=Object.values(o??{}).find((e=>(0,ea.fS)(e.gridPosition,a))),s=(0,i.X)({state:t,name:m.f.transform,entity:(null==l?void 0:l.entity)||""});return t=(0,Qe.K)({state:t,entity:vt,name:m.f.transform,update:()=>({position:null!=s&&s.position?[s.position[0]+1/4,s.position[1]-1/1.5,(s.position[2]??0)-1]:void 0})}),it("setUIState",t),la({state:t,gridPosition:a,isPickable:!1}),t},na=e=>{let{state:t}=e;const a=(0,i.X)({state:t,entity:vt,name:r.tutorial}),o=Te({state:t});if(!a||!o)return t;const{turn:l,currentCampaignLevelEntity:s}=o;return s===ta.entity?0===l?(t=pa({state:t,gridPosition:[1,2]}),t=da({state:t,tipText:"Tap on dice to increase number of their dots and end your turn."})):2===l?(t=sa({state:t}),t=pa({state:t,gridPosition:[1,2]}),t=da({state:t,tipText:"Tap one more time"})):4===l?(t=sa({state:t}),t=pa({state:t,gridPosition:[1,2]}),t=da({state:t,tipText:"Six dot dices have a special ability. They can capture adjacent dices and increase their dots by one. Notice that a six dot dice resets its dots count to one. Tap on your dice to capture a red dice"})):6===l?(t=sa({state:t}),t=pa({state:t,gridPosition:[2,2]}),t=da({state:t,tipText:"Great! Now this dice has a blue color and you can tap on it"})):8===l?(t=sa({state:t}),t=pa({state:t,gridPosition:[2,2]}),t=da({state:t,tipText:"Tap to capture more dices"})):10===l?(t=sa({state:t}),t=pa({state:t,gridPosition:[2,3]}),t=da({state:t,tipText:"You will win when you capture all dices"})):12===l?(t=sa({state:t}),t=pa({state:t,gridPosition:[2,3]}),t=da({state:t,tipText:"Tap last time to capture last dice and finish this level"})):t=sa({state:t}):s===aa.entity?0===l?(t=sa({state:t}),t=pa({state:t,gridPosition:[1,2]}),t=da({state:t,tipText:"Six dot dices can trigger another six dot dices. This is the best way to quickly capture a lot of dices"})):t=sa({state:t}):s===oa.entity?0===l?(t=sa({state:t}),t=pa({state:t,gridPosition:[1,1]}),t=da({state:t,tipText:"Some combinations of five and six dots dices may lead to surprising results"})):2===l?(t=sa({state:t}),t=da({state:t,tipText:"Now you know the basics. Try to capture last dice by yourself. You don't have to hurry, there is no move limit. Tap on any blue dice"})):t=sa({state:t}):s===ra.entity?0===l?(t=sa({state:t}),t=pa({state:t,gridPosition:[1,2]}),t=da({state:t,tipText:"White dices can be captured by tapping on them"})):2===l?(t=sa({state:t}),t=da({state:t,tipText:"This time the opponent will try to defend himself. Try not to lose, good luck!"})):t=sa({state:t}):t=sa({state:t}),t},ya={entity:"gameMap-campaign-4",campaignNumber:4,locked:!0,players:[{human:!0,color:wt,level:p.easy},{human:!1,color:Lt,level:p.random}],grid:[[{player:1,dots:2},{player:-1,dots:0},{player:1,dots:4},{player:-1,dots:0}],[{player:0,dots:1},{player:0,dots:5},{player:0,dots:2},{player:0,dots:1}],[{player:-1,dots:0},{player:1,dots:3},{player:-1,dots:0},{player:1,dots:2}],[{player:0,dots:4},{player:0,dots:1},{player:0,dots:2},{player:0,dots:5}]]},ia={entity:"gameMap-campaign-5",campaignNumber:5,locked:!0,players:[{human:!0,color:wt,level:p.easy},{human:!1,color:Lt,level:p.random}],grid:[[{player:-1,dots:0},{player:1,dots:1},{player:1,dots:1},{player:-1,dots:0}],[{player:0,dots:1},{player:1,dots:1},{player:1,dots:1},{player:0,dots:1}],[{player:1,dots:1},{player:0,dots:1},{player:0,dots:1},{player:1,dots:1}],[{player:-1,dots:0},{player:0,dots:1},{player:0,dots:1},{player:-1,dots:0}]]},ca={entity:"gameMap-campaign-6",campaignNumber:6,locked:!0,players:[{human:!0,color:wt,level:p.easy},{human:!1,color:Lt,level:p.easy}],grid:[[{player:0,dots:1},{player:0,dots:1},{player:0,dots:5},{player:-1,dots:0}],[{player:0,dots:5},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:1,dots:5}],[{player:-1,dots:0},{player:1,dots:5},{player:1,dots:1},{player:1,dots:1}]]},ma={entity:"gameMap-campaign-7",campaignNumber:7,locked:!0,players:[{human:!0,color:wt,level:p.easy},{human:!1,color:Lt,level:p.easy}],grid:[[void 0,{player:0,dots:1},{player:0,dots:1},void 0],[{player:1,dots:1},{player:-1,dots:0},{player:-1,dots:0},{player:1,dots:1}],[{player:1,dots:1},{player:-1,dots:0},{player:-1,dots:0},{player:1,dots:1}],[void 0,{player:0,dots:1},{player:0,dots:1},void 0]]},ua={entity:"gameMap-campaign-8",campaignNumber:8,locked:!0,players:[{human:!0,color:wt,level:p.easy},{human:!1,color:Lt,level:p.easy}],grid:[[{player:0,dots:1},{player:0,dots:1},{player:0,dots:1},{player:0,dots:1}],[void 0,{player:1,dots:2},{player:-1,dots:0},{player:1,dots:2}],[{player:1,dots:2},{player:-1,dots:0},{player:1,dots:2},void 0],[{player:0,dots:1},{player:0,dots:1},{player:0,dots:1},{player:0,dots:1}]]},ga={entity:"gameMap-campaign-9",campaignNumber:9,locked:!0,players:[{human:!0,color:wt,level:p.easy},{human:!1,color:Lt,level:p.easy}],grid:[[{player:-1,dots:0},{player:1,dots:5},{player:0,dots:2},{player:1,dots:1},{player:1,dots:1}],[{player:1,dots:3},{player:-1,dots:0},{player:1,dots:4},{player:-1,dots:0},{player:1,dots:1}],[{player:-1,dots:0},{player:1,dots:2},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:0,dots:1},{player:-1,dots:0},{player:0,dots:3},{player:1,dots:2},{player:0,dots:2}],[{player:0,dots:1},{player:0,dots:1},{player:-1,dots:0},{player:1,dots:1},{player:1,dots:1}]]},va={entity:"gameMap-campaign-10",campaignNumber:10,locked:!0,players:[{human:!0,color:wt,level:p.easy},{human:!1,color:Lt,level:p.easy}],grid:[[{player:0,dots:4},{player:1,dots:4},{player:0,dots:4},{player:1,dots:4},{player:0,dots:4}],[{player:1,dots:4},{player:0,dots:4},{player:1,dots:4},{player:0,dots:4},{player:1,dots:4}],[{player:0,dots:4},{player:1,dots:4},{player:0,dots:4},{player:1,dots:4},{player:0,dots:4}],[{player:1,dots:4},{player:0,dots:4},{player:1,dots:4},{player:0,dots:4},{player:1,dots:4}],[{player:0,dots:4},{player:1,dots:4},{player:0,dots:4},{player:1,dots:4},{player:0,dots:4}]]},ha={entity:"gameMap-campaign-11",campaignNumber:11,locked:!0,players:[{human:!0,color:wt,level:p.easy},{human:!1,color:Lt,level:p.easy}],grid:[[{player:0,dots:1},{player:0,dots:1},void 0,{player:1,dots:1},{player:1,dots:1}],[void 0,{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},void 0],[void 0,{player:0,dots:1},{player:-1,dots:0},{player:1,dots:1},void 0],[void 0,{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},void 0],[{player:1,dots:1},{player:1,dots:1},void 0,{player:0,dots:1},{player:0,dots:1}]]},fa={entity:"gameMap-campaign-12",campaignNumber:12,locked:!0,players:[{human:!0,color:wt,level:p.easy},{human:!1,color:Lt,level:p.easy},{human:!1,color:kt,level:p.easy}],grid:[[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:1,dots:1},{player:1,dots:1},{player:1,dots:2},{player:-1,dots:0},{player:-1,dots:0}],[{player:0,dots:1},{player:0,dots:1},{player:0,dots:6},{player:-1,dots:0},{player:-1,dots:0}],[{player:0,dots:1},{player:0,dots:2},{player:1,dots:3},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:0,dots:1},{player:1,dots:1},{player:-1,dots:0},{player:-1,dots:0}]]},ba={entity:"gameMap-campaign-13",campaignNumber:13,locked:!0,players:[{human:!0,color:wt,level:p.easy},{human:!1,color:Lt,level:p.easy},{human:!1,color:kt,level:p.easy}],grid:[[{player:1,dots:1},{player:1,dots:1},{player:-1,dots:0},{player:-1,dots:0},{player:0,dots:1}],[{player:1,dots:1},{player:1,dots:1},{player:-1,dots:0},{player:-1,dots:0},{player:0,dots:1}],[void 0,void 0,{player:-1,dots:0},{player:-1,dots:0},{player:0,dots:1}],[{player:2,dots:1},{player:2,dots:1},{player:-1,dots:0},{player:-1,dots:0},{player:0,dots:1}],[{player:2,dots:1},{player:2,dots:1},{player:-1,dots:0},{player:-1,dots:0},{player:0,dots:1}]]},xa={entity:"gameMap-campaign-14",campaignNumber:14,locked:!0,players:[{human:!0,color:wt,level:p.easy},{human:!1,color:Lt,level:p.easy},{human:!1,color:kt,level:p.easy}],grid:[[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:2,dots:1},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:0,dots:1},void 0,{player:0,dots:1},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:1,dots:1},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}]]},Ea={entity:"gameMap-campaign-15",campaignNumber:15,locked:!0,players:[{human:!0,color:wt,level:p.easy},{human:!1,color:Lt,level:p.easy},{human:!1,color:kt,level:p.easy}],grid:[[{player:0,dots:1},{player:0,dots:1},{player:-1,dots:0},{player:2,dots:1},{player:2,dots:1}],[{player:-1,dots:0},{player:0,dots:1},{player:0,dots:1},{player:2,dots:5},{player:2,dots:1}],[{player:-1,dots:0},{player:0,dots:1},{player:-1,dots:0},{player:0,dots:1},{player:-1,dots:0}],[{player:1,dots:1},{player:1,dots:5},{player:0,dots:1},{player:0,dots:1},{player:-1,dots:0}],[{player:1,dots:1},{player:1,dots:1},{player:-1,dots:0},{player:-1,dots:0},{player:0,dots:1}]]},Ma={entity:"gameMap-campaign-16",campaignNumber:16,locked:!0,players:[{human:!0,color:wt,level:p.easy},{human:!1,color:Lt,level:p.easy},{human:!1,color:kt,level:p.easy}],grid:[[{player:2,dots:6},{player:0,dots:3},{player:0,dots:6},void 0,{player:1,dots:6}],[{player:2,dots:1},{player:2,dots:6},{player:0,dots:3},{player:1,dots:6},{player:1,dots:1}],[{player:2,dots:6},void 0,{player:0,dots:6},{player:0,dots:3},{player:1,dots:6}],[{player:2,dots:1},{player:2,dots:6},{player:0,dots:3},{player:1,dots:6},{player:1,dots:1}],[{player:2,dots:6},{player:0,dots:3},{player:0,dots:6},void 0,{player:1,dots:6}]]},ka={entity:"gameMap-campaign-17",campaignNumber:17,locked:!0,players:[{human:!0,color:wt,level:p.easy},{human:!1,color:Lt,level:p.easy},{human:!1,color:kt,level:p.easy}],grid:[[{player:0,dots:1},{player:2,dots:1},{player:1,dots:1},{player:0,dots:1},{player:2,dots:1}],[{player:1,dots:1},{player:0,dots:1},{player:2,dots:1},{player:1,dots:1},{player:0,dots:1}],[{player:2,dots:1},{player:1,dots:1},{player:0,dots:1},{player:2,dots:1},{player:1,dots:1}],[{player:0,dots:1},{player:2,dots:1},{player:1,dots:1},{player:0,dots:1},{player:2,dots:1}],[{player:1,dots:1},{player:0,dots:1},{player:2,dots:1},{player:1,dots:1},{player:0,dots:1}]]},wa={entity:"gameMap-campaign-18",campaignNumber:18,locked:!0,players:[{human:!0,color:wt,level:p.easy},{human:!1,color:Lt,level:p.easy},{human:!1,color:kt,level:p.easy},{human:!1,color:Ct,level:p.easy}],grid:[[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}]]},Ta={entity:"gameMap-campaign-19",campaignNumber:19,locked:!0,players:[{human:!0,color:wt,level:p.easy},{human:!1,color:Lt,level:p.easy},{human:!1,color:kt,level:p.easy},{human:!1,color:Ct,level:p.easy}],grid:[[{player:1,dots:6},{player:1,dots:1},{player:1,dots:6},{player:3,dots:1},{player:3,dots:6},{player:3,dots:1}],[{player:1,dots:1},{player:1,dots:6},{player:1,dots:1},{player:3,dots:6},{player:3,dots:1},{player:3,dots:6}],[{player:1,dots:6},{player:1,dots:1},{player:1,dots:6},{player:3,dots:1},{player:3,dots:6},{player:3,dots:1}],[{player:0,dots:1},{player:0,dots:6},{player:0,dots:1},{player:2,dots:6},{player:2,dots:1},{player:2,dots:1}],[{player:0,dots:6},{player:0,dots:1},{player:0,dots:6},{player:2,dots:1},{player:2,dots:6},{player:2,dots:6}],[{player:0,dots:1},{player:0,dots:6},{player:0,dots:1},{player:2,dots:6},{player:2,dots:1},{player:2,dots:6}]]},Ca={entity:"gameMap-campaign-20",campaignNumber:20,locked:!0,players:[{human:!0,color:wt,level:p.easy},{human:!1,color:Lt,level:p.easy},{human:!1,color:kt,level:p.easy},{human:!1,color:Ct,level:p.easy}],grid:[[{player:2,dots:4},{player:2,dots:3},void 0,void 0,{player:0,dots:3},{player:0,dots:4}],[{player:2,dots:3},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:0,dots:3}],[void 0,{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},void 0],[void 0,{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},void 0],[{player:3,dots:3},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:1,dots:3}],[{player:3,dots:4},{player:3,dots:3},void 0,void 0,{player:1,dots:3},{player:1,dots:4}]]},La={entity:"gameMap-campaign-21",campaignNumber:21,locked:!0,players:[{human:!0,color:wt,level:p.easy},{human:!1,color:Lt,level:p.easy},{human:!1,color:kt,level:p.easy},{human:!1,color:Ct,level:p.easy}],grid:[[{player:1,dots:1},{player:1,dots:1},{player:3,dots:1},{player:3,dots:1},{player:0,dots:1},{player:0,dots:1}],[{player:1,dots:1},{player:1,dots:1},{player:3,dots:1},{player:3,dots:1},{player:0,dots:4},{player:0,dots:1}],[{player:1,dots:1},{player:1,dots:1},{player:3,dots:1},{player:3,dots:1},{player:3,dots:1},void 0],[{player:1,dots:1},{player:1,dots:1},void 0,{player:2,dots:1},{player:2,dots:1},void 0],[{player:1,dots:1},void 0,void 0,{player:2,dots:1},{player:2,dots:1},{player:2,dots:1}],[void 0,void 0,void 0,{player:2,dots:1},{player:2,dots:1},{player:2,dots:1}]]},Sa={entity:"gameMap-campaign-22",campaignNumber:22,locked:!0,players:[{human:!0,color:wt,level:p.easy},{human:!1,color:Lt,level:p.easy},{human:!1,color:kt,level:p.easy},{human:!1,color:Ct,level:p.easy}],grid:[[{player:1,dots:1},{player:0,dots:1},{player:3,dots:1},{player:3,dots:1},{player:3,dots:1},{player:3,dots:1}],[{player:1,dots:1},{player:0,dots:1},{player:3,dots:1},{player:3,dots:1},void 0,{player:0,dots:1}],[{player:1,dots:1},void 0,void 0,{player:2,dots:1},{player:0,dots:1},{player:3,dots:1}],[{player:1,dots:1},{player:1,dots:1},void 0,{player:2,dots:1},{player:0,dots:1},{player:3,dots:1}],[{player:1,dots:1},{player:1,dots:1},void 0,{player:2,dots:1},{player:0,dots:1},void 0],[{player:1,dots:1},{player:0,dots:1},{player:2,dots:1},{player:2,dots:1},{player:2,dots:1},{player:2,dots:1}]]},Pa={entity:"gameMap-campaign-23",campaignNumber:23,locked:!0,players:[{human:!0,color:wt,level:p.easy},{human:!1,color:Lt,level:p.easy},{human:!1,color:kt,level:p.easy},{human:!1,color:Ct,level:p.easy}],grid:[[void 0,void 0,{player:3,dots:1},{player:3,dots:1},void 0,void 0],[void 0,{player:1,dots:1},{player:3,dots:1},{player:3,dots:1},{player:3,dots:1},void 0],[{player:1,dots:1},{player:1,dots:1},{player:1,dots:1},{player:3,dots:1},{player:2,dots:1},{player:2,dots:1}],[{player:1,dots:1},{player:1,dots:1},{player:0,dots:1},{player:2,dots:1},{player:2,dots:1},{player:2,dots:1}],[void 0,{player:0,dots:1},{player:0,dots:1},{player:0,dots:1},{player:2,dots:1},void 0],[void 0,void 0,{player:0,dots:1},{player:0,dots:1},void 0,void 0]]},Ia={entity:"gameMap-campaign-24",campaignNumber:24,locked:!0,players:[{human:!0,color:wt,level:p.easy},{human:!1,color:Lt,level:p.easy},{human:!1,color:kt,level:p.easy},{human:!1,color:Ct,level:p.easy}],grid:[[{player:3,dots:6},{player:0,dots:1},{player:1,dots:1},{player:0,dots:1},{player:2,dots:1},{player:2,dots:1}],[{player:3,dots:6},{player:0,dots:1},{player:1,dots:1},{player:0,dots:1},{player:2,dots:1},{player:2,dots:1}],[{player:3,dots:6},{player:0,dots:1},{player:1,dots:1},{player:0,dots:1},{player:0,dots:1},{player:0,dots:1}],[{player:3,dots:6},{player:0,dots:1},{player:1,dots:1},{player:1,dots:1},{player:1,dots:1},{player:1,dots:1}],[{player:3,dots:6},{player:0,dots:1},{player:0,dots:1},{player:0,dots:1},{player:0,dots:1},{player:0,dots:1}],[{player:3,dots:6},{player:3,dots:6},{player:3,dots:6},{player:3,dots:6},{player:3,dots:6},{player:3,dots:6}]]},Ra={entity:"gameMap-campaign-25",campaignNumber:25,locked:!0,players:[{human:!0,color:wt,level:p.easy},{human:!1,color:Lt,level:p.easy},{human:!1,color:kt,level:p.easy},{human:!1,color:Ct,level:p.easy}],grid:[[{player:1,dots:1},{player:2,dots:2},{player:3,dots:2},{player:2,dots:3},{player:2,dots:2},{player:0,dots:3}],[{player:3,dots:3},{player:2,dots:1},{player:3,dots:1},{player:2,dots:2},{player:2,dots:1},{player:0,dots:2}],[{player:3,dots:2},{player:0,dots:3},{player:1,dots:3},{player:2,dots:1},{player:3,dots:3},{player:0,dots:1}],[{player:3,dots:1},{player:0,dots:2},{player:1,dots:2},{player:0,dots:3},{player:3,dots:2},{player:1,dots:3}],[{player:1,dots:3},{player:0,dots:1},{player:1,dots:1},{player:0,dots:2},{player:3,dots:1},{player:1,dots:2}],[{player:1,dots:2},{player:2,dots:3},{player:3,dots:3},{player:0,dots:1},{player:2,dots:3},{player:1,dots:1}]]},Ba={entity:"gameMap-campaign-26",campaignNumber:26,locked:!0,players:[{human:!0,color:wt,level:p.easy},{human:!1,color:Lt,level:p.easy},{human:!1,color:kt,level:p.easy},{human:!1,color:Ct,level:p.easy},{human:!1,color:Tt,level:p.medium}],grid:[[{player:1,dots:1},{player:1,dots:1},{player:1,dots:1},{player:1,dots:1},{player:1,dots:1},{player:1,dots:4}],[{player:4,dots:2},{player:1,dots:1},{player:2,dots:1},{player:2,dots:1},{player:1,dots:1},{player:0,dots:2}],[{player:4,dots:4},{player:4,dots:2},{player:2,dots:1},{player:2,dots:1},{player:0,dots:2},{player:0,dots:4}],[{player:4,dots:2},{player:4,dots:4},{player:2,dots:1},{player:2,dots:1},{player:0,dots:4},{player:0,dots:2}],[{player:4,dots:4},{player:3,dots:1},{player:2,dots:1},{player:2,dots:1},{player:3,dots:1},{player:0,dots:4}],[{player:3,dots:1},{player:3,dots:1},{player:3,dots:1},{player:3,dots:1},{player:3,dots:1},{player:3,dots:1}]]},Na={entity:"gameMap-campaign-27",campaignNumber:27,locked:!0,players:[{human:!0,color:wt,level:p.easy},{human:!1,color:Lt,level:p.easy},{human:!1,color:kt,level:p.easy},{human:!1,color:Ct,level:p.easy},{human:!1,color:Tt,level:p.medium}],grid:[[{player:3,dots:1},{player:3,dots:1},{player:3,dots:1},{player:3,dots:1},{player:3,dots:1},{player:3,dots:1}],[{player:0,dots:1},{player:4,dots:1},{player:3,dots:1},{player:3,dots:1},{player:4,dots:1},{player:1,dots:1}],[{player:0,dots:1},{player:0,dots:1},{player:4,dots:6},{player:4,dots:4},{player:1,dots:1},{player:1,dots:1}],[{player:0,dots:1},{player:0,dots:1},{player:4,dots:4},{player:4,dots:6},{player:1,dots:1},{player:1,dots:1}],[{player:0,dots:1},{player:4,dots:1},{player:2,dots:1},{player:2,dots:1},{player:4,dots:1},{player:1,dots:1}],[{player:2,dots:1},{player:2,dots:1},{player:2,dots:1},{player:2,dots:1},{player:2,dots:1},{player:2,dots:1}]]},qa={entity:"gameMap-campaign-28",campaignNumber:28,locked:!0,players:[{human:!0,color:wt,level:p.easy},{human:!1,color:Lt,level:p.easy},{human:!1,color:kt,level:p.easy},{human:!1,color:Ct,level:p.easy},{human:!1,color:Tt,level:p.medium}],grid:[[{player:4,dots:3},{player:4,dots:3},void 0,{player:1,dots:3},{player:1,dots:3},{player:1,dots:3},{player:1,dots:3}],[{player:4,dots:3},{player:4,dots:3},void 0,{player:1,dots:3},{player:1,dots:3},{player:1,dots:3},{player:1,dots:3}],[{player:4,dots:3},{player:4,dots:3},{player:3,dots:3},{player:3,dots:3},{player:3,dots:3},{player:1,dots:3},{player:1,dots:3}],[{player:2,dots:3},{player:2,dots:3},{player:3,dots:3},{player:3,dots:3},{player:3,dots:3},{player:1,dots:3},{player:1,dots:3}],[{player:2,dots:3},{player:2,dots:3},{player:3,dots:3},{player:3,dots:3},{player:3,dots:3},{player:0,dots:3},{player:0,dots:3}],[{player:2,dots:3},{player:2,dots:3},{player:2,dots:3},{player:2,dots:3},void 0,{player:0,dots:3},{player:0,dots:3}],[{player:2,dots:3},{player:2,dots:3},{player:2,dots:3},{player:2,dots:3},void 0,{player:0,dots:3},{player:0,dots:3}]]},ja={entity:"gameMap-campaign-29",campaignNumber:29,locked:!0,players:[{human:!0,color:wt,level:p.easy},{human:!1,color:Lt,level:p.easy},{human:!1,color:kt,level:p.easy},{human:!1,color:Ct,level:p.easy},{human:!1,color:Tt,level:p.medium}],grid:[[void 0,void 0,{player:-1,dots:0},void 0,{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},void 0,void 0],[{player:-1,dots:0},{player:-1,dots:0},void 0,{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},void 0,void 0,{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},void 0,void 0,{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},void 0]]},Ka={entity:"gameMap-campaign-30",campaignNumber:30,locked:!0,players:[{human:!0,color:wt,level:p.easy},{human:!1,color:Lt,level:p.easy},{human:!1,color:kt,level:p.easy},{human:!1,color:Ct,level:p.easy},{human:!1,color:Tt,level:p.medium}],grid:[[{player:0,dots:1},{player:0,dots:1},{player:0,dots:1},{player:3,dots:1},{player:-1,dots:0},{player:-1,dots:0},{player:4,dots:1}],[{player:0,dots:1},{player:0,dots:1},{player:3,dots:1},{player:3,dots:1},{player:3,dots:1},{player:-1,dots:0},{player:4,dots:1}],[{player:0,dots:1},{player:0,dots:1},{player:0,dots:1},{player:3,dots:1},{player:-1,dots:0},{player:-1,dots:0},{player:4,dots:1}],[void 0,void 0,void 0,void 0,void 0,{player:4,dots:1},{player:4,dots:1}],[{player:2,dots:1},{player:2,dots:1},{player:2,dots:1},{player:1,dots:1},{player:-1,dots:0},{player:-1,dots:0},{player:4,dots:1}],[{player:2,dots:1},{player:2,dots:1},{player:1,dots:1},{player:1,dots:1},{player:1,dots:1},{player:-1,dots:0},{player:4,dots:1}],[{player:2,dots:1},{player:2,dots:1},{player:2,dots:1},{player:1,dots:1},{player:-1,dots:0},{player:-1,dots:0},{player:4,dots:1}]]},Aa={entity:"gameMap-campaign-31",campaignNumber:31,locked:!0,players:[{human:!0,color:wt,level:p.easy},{human:!1,color:Lt,level:p.easy},{human:!1,color:kt,level:p.easy},{human:!1,color:Ct,level:p.easy},{human:!1,color:Tt,level:p.medium}],grid:[[void 0,void 0,void 0,{player:4,dots:1},{player:0,dots:1},{player:0,dots:1},{player:0,dots:1}],[{player:3,dots:1},void 0,void 0,{player:4,dots:1},{player:0,dots:1},{player:0,dots:1},{player:0,dots:1}],[{player:3,dots:1},{player:3,dots:1},void 0,{player:4,dots:1},{player:4,dots:1},{player:1,dots:1},{player:1,dots:1}],[{player:3,dots:1},{player:3,dots:1},{player:4,dots:1},{player:4,dots:6},{player:4,dots:1},{player:1,dots:1},{player:1,dots:1}],[{player:3,dots:1},{player:3,dots:1},{player:4,dots:1},{player:4,dots:1},void 0,{player:1,dots:1},{player:1,dots:1}],[{player:2,dots:1},{player:2,dots:1},{player:2,dots:1},{player:4,dots:1},void 0,void 0,{player:1,dots:1}],[{player:2,dots:1},{player:2,dots:1},{player:2,dots:1},{player:4,dots:1},void 0,void 0,void 0]]},Oa={entity:"gameMap-campaign-32",campaignNumber:32,locked:!0,players:[{human:!0,color:wt,level:p.easy},{human:!1,color:Lt,level:p.easy},{human:!1,color:kt,level:p.easy},{human:!1,color:Ct,level:p.easy},{human:!1,color:Tt,level:p.medium}],grid:[[{player:0,dots:1},{player:0,dots:6},{player:0,dots:1},{player:3,dots:1},{player:0,dots:1},{player:0,dots:6},{player:0,dots:1}],[{player:0,dots:6},{player:3,dots:6},{player:0,dots:6},{player:2,dots:1},{player:0,dots:6},{player:2,dots:6},{player:0,dots:6}],[{player:0,dots:1},{player:0,dots:6},{player:0,dots:1},{player:1,dots:1},{player:0,dots:1},{player:0,dots:6},{player:0,dots:1}],[{player:3,dots:1},{player:2,dots:1},{player:1,dots:1},{player:4,dots:6},{player:1,dots:1},{player:2,dots:1},{player:3,dots:1}],[{player:0,dots:1},{player:0,dots:6},{player:0,dots:1},{player:1,dots:1},{player:0,dots:1},{player:0,dots:5},{player:0,dots:1}],[{player:0,dots:6},{player:1,dots:6},{player:0,dots:6},{player:2,dots:1},{player:0,dots:5},{player:4,dots:6},{player:0,dots:5}],[{player:0,dots:1},{player:0,dots:6},{player:0,dots:1},{player:3,dots:1},{player:0,dots:1},{player:0,dots:5},{player:0,dots:1}]]},$a={entity:"gameMap-campaign-33",campaignNumber:33,locked:!0,players:[{human:!0,color:wt,level:p.easy},{human:!1,color:Lt,level:p.easy},{human:!1,color:kt,level:p.easy},{human:!1,color:Ct,level:p.easy},{human:!1,color:Tt,level:p.medium}],grid:[[void 0,{player:1,dots:1},{player:1,dots:1},{player:1,dots:1},{player:1,dots:1},{player:0,dots:1},void 0],[void 0,{player:2,dots:1},{player:2,dots:1},{player:2,dots:1},{player:2,dots:1},{player:0,dots:1},{player:0,dots:1}],[void 0,void 0,{player:3,dots:1},{player:3,dots:1},{player:4,dots:1},{player:4,dots:1},{player:0,dots:1}],[void 0,void 0,void 0,{player:3,dots:1},{player:4,dots:1},{player:4,dots:1},{player:0,dots:1}],[void 0,void 0,{player:3,dots:1},{player:3,dots:1},{player:4,dots:1},{player:4,dots:1},{player:0,dots:1}],[void 0,{player:2,dots:1},{player:2,dots:1},{player:2,dots:1},{player:2,dots:1},{player:0,dots:1},{player:0,dots:1}],[void 0,{player:1,dots:1},{player:1,dots:1},{player:1,dots:1},{player:1,dots:1},{player:0,dots:1},void 0]]},Ua={entity:"gameMap-campaign-34",campaignNumber:34,locked:!0,players:[{human:!0,color:wt,level:p.easy},{human:!1,color:Lt,level:p.easy},{human:!1,color:kt,level:p.easy},{human:!1,color:Ct,level:p.medium},{human:!1,color:Tt,level:p.medium},{human:!1,color:St,level:p.medium}],grid:[[{player:0,dots:1},{player:0,dots:1},{player:2,dots:1},{player:2,dots:1},{player:1,dots:1},{player:1,dots:1},{player:3,dots:1},{player:3,dots:1}],[{player:0,dots:1},{player:0,dots:1},{player:2,dots:1},{player:2,dots:1},{player:1,dots:1},{player:1,dots:1},{player:3,dots:1},{player:3,dots:1}],[{player:4,dots:1},{player:4,dots:1},{player:5,dots:1},{player:5,dots:1},{player:0,dots:1},{player:0,dots:1},{player:2,dots:1},{player:2,dots:1}],[{player:4,dots:1},{player:4,dots:1},{player:5,dots:1},{player:5,dots:1},{player:0,dots:1},{player:0,dots:1},{player:2,dots:1},{player:2,dots:1}],[{player:1,dots:1},{player:1,dots:1},{player:3,dots:1},{player:3,dots:1},{player:4,dots:1},{player:4,dots:1},{player:5,dots:1},{player:5,dots:1}],[{player:1,dots:1},{player:1,dots:1},{player:3,dots:1},{player:3,dots:1},{player:4,dots:1},{player:4,dots:1},{player:5,dots:1},{player:5,dots:1}],[{player:0,dots:1},{player:0,dots:1},{player:2,dots:1},{player:2,dots:1},{player:5,dots:1},{player:5,dots:1},{player:1,dots:1},{player:1,dots:1}],[{player:0,dots:1},{player:0,dots:1},{player:2,dots:1},{player:2,dots:1},{player:5,dots:1},{player:5,dots:1},{player:1,dots:1},{player:1,dots:1}]]},Wa={entity:"gameMap-campaign-35",campaignNumber:35,locked:!0,players:[{human:!0,color:wt,level:p.easy},{human:!1,color:Ct,level:p.medium},{human:!1,color:Tt,level:p.medium},{human:!1,color:St,level:p.medium}],grid:[[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},void 0,{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},void 0,{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},void 0],[{player:-1,dots:0},{player:-1,dots:0},void 0,{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},void 0,{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},void 0,{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},void 0,{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}]]},Ga={entity:"gameMap-campaign-36",campaignNumber:36,locked:!0,players:[{human:!0,color:wt,level:p.easy},{human:!1,color:Lt,level:p.easy},{human:!1,color:kt,level:p.easy},{human:!1,color:Ct,level:p.medium},{human:!1,color:Tt,level:p.medium},{human:!1,color:St,level:p.medium}],grid:[[{player:4,dots:1},{player:4,dots:1},{player:4,dots:1},void 0,{player:3,dots:1},void 0,{player:3,dots:1},void 0],[void 0,{player:4,dots:1},{player:4,dots:1},void 0,{player:3,dots:1},{player:3,dots:1},{player:3,dots:1},{player:3,dots:1}],[{player:4,dots:1},{player:4,dots:1},{player:4,dots:1},void 0,{player:5,dots:1},{player:5,dots:1},{player:3,dots:1},{player:3,dots:1}],[{player:4,dots:1},{player:4,dots:1},{player:4,dots:1},{player:5,dots:1},{player:5,dots:1},{player:5,dots:1},void 0,void 0],[{player:5,dots:1},{player:5,dots:1},{player:5,dots:1},{player:5,dots:1},{player:5,dots:1},{player:2,dots:1},{player:2,dots:1},{player:2,dots:1}],[void 0,void 0,{player:5,dots:1},{player:0,dots:1},{player:0,dots:1},{player:0,dots:1},{player:0,dots:1},void 0],[{player:1,dots:1},{player:1,dots:1},{player:1,dots:1},{player:0,dots:1},{player:0,dots:1},{player:0,dots:1},{player:0,dots:1},{player:2,dots:1}],[{player:1,dots:1},{player:1,dots:1},{player:1,dots:1},void 0,{player:0,dots:1},void 0,{player:2,dots:1},{player:2,dots:1}]]},Fa={entity:"gameMap-campaign-37",campaignNumber:37,locked:!0,players:[{human:!0,color:wt,level:p.easy},{human:!1,color:Lt,level:p.easy},{human:!1,color:kt,level:p.easy},{human:!1,color:Ct,level:p.medium},{human:!1,color:Tt,level:p.medium},{human:!1,color:St,level:p.medium},{human:!1,color:Mt,level:p.hard}],grid:[[{player:0,dots:6},{player:0,dots:6},{player:6,dots:1},{player:6,dots:4},{player:6,dots:5},{player:6,dots:6},{player:3,dots:5},{player:3,dots:6}],[{player:0,dots:6},{player:0,dots:5},{player:6,dots:6},{player:6,dots:5},{player:6,dots:4},{player:6,dots:1},{player:3,dots:6},{player:3,dots:6}],[{player:6,dots:1},{player:6,dots:1},{player:6,dots:1},{player:6,dots:1},{player:6,dots:1},{player:6,dots:1},{player:6,dots:1},{player:6,dots:1}],[{player:4,dots:6},{player:4,dots:6},{player:6,dots:1},{player:6,dots:4},{player:6,dots:5},{player:6,dots:6},{player:1,dots:5},{player:1,dots:6}],[{player:4,dots:6},{player:4,dots:5},{player:6,dots:6},{player:6,dots:5},{player:6,dots:4},{player:6,dots:1},{player:1,dots:6},{player:1,dots:6}],[{player:6,dots:1},{player:6,dots:1},{player:6,dots:1},{player:6,dots:1},{player:6,dots:1},{player:6,dots:1},{player:6,dots:1},{player:6,dots:1}],[{player:5,dots:6},{player:5,dots:6},{player:6,dots:1},{player:6,dots:4},{player:6,dots:5},{player:6,dots:6},{player:2,dots:5},{player:2,dots:6}],[{player:5,dots:6},{player:5,dots:5},{player:6,dots:6},{player:6,dots:5},{player:6,dots:4},{player:6,dots:1},{player:2,dots:6},{player:2,dots:6}]]},Da={entity:"gameMap-campaign-38",campaignNumber:38,locked:!0,players:[{human:!0,color:wt,level:p.easy},{human:!1,color:Lt,level:p.easy},{human:!1,color:kt,level:p.easy},{human:!1,color:Ct,level:p.medium},{human:!1,color:Tt,level:p.medium},{human:!1,color:St,level:p.medium},{human:!1,color:Mt,level:p.hard}],grid:[[void 0,void 0,{player:3,dots:1},{player:3,dots:1},{player:3,dots:1},{player:3,dots:1},void 0,void 0],[void 0,void 0,{player:4,dots:1},{player:4,dots:1},{player:4,dots:1},{player:4,dots:1},void 0,void 0],[{player:1,dots:1},{player:0,dots:1},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:5,dots:1},{player:6,dots:1}],[{player:1,dots:1},{player:0,dots:1},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:5,dots:1},{player:6,dots:1}],[{player:1,dots:1},{player:0,dots:1},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:5,dots:1},{player:6,dots:1}],[{player:1,dots:1},{player:0,dots:1},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:5,dots:1},{player:6,dots:1}],[void 0,void 0,{player:2,dots:1},{player:2,dots:1},{player:2,dots:1},{player:2,dots:1},void 0,void 0],[void 0,void 0,{player:0,dots:1},{player:0,dots:1},{player:0,dots:1},{player:0,dots:1},void 0,void 0]]},za={entity:"gameMap-campaign-39",campaignNumber:39,locked:!0,players:[{human:!0,color:wt,level:p.easy},{human:!1,color:Lt,level:p.easy},{human:!1,color:kt,level:p.easy},{human:!1,color:Ct,level:p.medium},{human:!1,color:Tt,level:p.medium},{human:!1,color:St,level:p.medium},{human:!1,color:Mt,level:p.hard}],grid:[[void 0,{player:2,dots:1},{player:4,dots:1},{player:4,dots:1},{player:4,dots:1},{player:4,dots:1},{player:3,dots:1},void 0],[{player:2,dots:1},{player:2,dots:1},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:3,dots:1},{player:3,dots:1}],[{player:-1,dots:0},{player:-1,dots:0},{player:5,dots:5},{player:-1,dots:0},{player:6,dots:5},{player:-1,dots:0},{player:-1,dots:0},{player:6,dots:1}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},void 0,void 0,{player:0,dots:5},{player:-1,dots:0},{player:6,dots:1}],[{player:-1,dots:0},{player:-1,dots:0},{player:2,dots:5},void 0,void 0,{player:-1,dots:0},{player:-1,dots:0},{player:6,dots:1}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:4,dots:5},{player:-1,dots:0},{player:-1,dots:0},{player:6,dots:1}],[{player:0,dots:1},{player:0,dots:1},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:1},{player:1,dots:1},{player:1,dots:1}],[void 0,{player:0,dots:1},{player:5,dots:1},{player:5,dots:1},{player:5,dots:1},{player:5,dots:1},{player:1,dots:1},void 0]]},Xa={entity:"gameMap-campaign-40",campaignNumber:40,locked:!0,players:[{human:!0,color:wt,level:p.easy},{human:!1,color:Lt,level:p.easy},{human:!1,color:kt,level:p.easy},{human:!1,color:Ct,level:p.medium},{human:!1,color:Tt,level:p.medium},{human:!1,color:St,level:p.medium},{human:!1,color:Mt,level:p.hard},{human:!1,color:Pt,level:p.hard}],grid:[[{player:-1,dots:0},{player:-1,dots:0},void 0,{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},void 0,{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:6,dots:1},{player:6,dots:1},{player:6,dots:1},{player:6,dots:1},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:6,dots:1},{player:7,dots:1},{player:7,dots:1},{player:6,dots:1},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:6,dots:1},{player:7,dots:1},{player:7,dots:1},{player:6,dots:1},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:6,dots:1},{player:6,dots:1},{player:6,dots:1},{player:6,dots:1},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},void 0,{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},void 0,{player:-1,dots:0},{player:-1,dots:0}]]},Qa={entity:"gameMap-campaign-41",campaignNumber:41,locked:!0,players:[{human:!0,color:wt,level:p.easy},{human:!1,color:Lt,level:p.easy},{human:!1,color:kt,level:p.easy},{human:!1,color:Ct,level:p.medium},{human:!1,color:Tt,level:p.medium},{human:!1,color:St,level:p.medium},{human:!1,color:Mt,level:p.hard},{human:!1,color:Pt,level:p.hard}],grid:[[{player:4,dots:1},{player:4,dots:1},{player:1,dots:1},{player:1,dots:1},{player:6,dots:1},{player:6,dots:1},{player:-1,dots:0},{player:-1,dots:0}],[{player:4,dots:1},{player:4,dots:1},{player:1,dots:1},{player:1,dots:1},{player:6,dots:1},{player:6,dots:1},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},void 0,{player:-1,dots:0},{player:-1,dots:0},void 0,void 0,void 0],[{player:-1,dots:0},void 0,void 0,{player:-1,dots:0},{player:3,dots:1},{player:3,dots:1},void 0,{player:-1,dots:0}],[{player:7,dots:1},{player:7,dots:1},void 0,{player:-1,dots:0},{player:3,dots:1},{player:3,dots:1},{player:5,dots:1},{player:5,dots:1}],[{player:7,dots:1},{player:7,dots:1},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:5,dots:1},{player:5,dots:1}],[void 0,{player:-1,dots:0},{player:2,dots:1},{player:2,dots:1},{player:-1,dots:0},{player:0,dots:1},{player:0,dots:1},{player:-1,dots:0}],[void 0,void 0,{player:2,dots:1},{player:2,dots:1},{player:-1,dots:0},{player:0,dots:1},{player:0,dots:1},{player:-1,dots:0}]]},Ya={entity:"gameMap-campaign-42",campaignNumber:42,locked:!0,players:[{human:!0,color:wt,level:p.easy},{human:!1,color:Lt,level:p.easy},{human:!1,color:kt,level:p.medium},{human:!1,color:Ct,level:p.medium},{human:!1,color:Tt,level:p.medium},{human:!1,color:St,level:p.hard},{human:!1,color:Mt,level:p.hard},{human:!1,color:Pt,level:p.hard}],grid:[[{player:7,dots:1},{player:7,dots:1},{player:7,dots:2},{player:-1,dots:0},{player:-1,dots:0},void 0,void 0,void 0],[void 0,{player:7,dots:2},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},void 0,void 0],[void 0,void 0,{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:0,dots:4},void 0],[void 0,void 0,void 0,{player:5,dots:1},{player:5,dots:2},{player:-1,dots:0},{player:0,dots:2},{player:0,dots:3}],[void 0,void 0,void 0,{player:5,dots:2},{player:5,dots:1},{player:-1,dots:0},{player:0,dots:2},{player:0,dots:3}],[void 0,void 0,{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:0,dots:4},void 0],[void 0,{player:6,dots:2},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},void 0,void 0],[{player:6,dots:1},{player:6,dots:1},{player:6,dots:2},{player:-1,dots:0},{player:-1,dots:0},void 0,void 0,void 0]]},Ha={entity:"gameMap-campaign-43",campaignNumber:43,locked:!0,players:[{human:!0,color:wt,level:p.easy},{human:!1,color:Lt,level:p.medium},{human:!1,color:kt,level:p.medium},{human:!1,color:Ct,level:p.medium},{human:!1,color:Tt,level:p.hard},{human:!1,color:St,level:p.hard},{human:!1,color:Mt,level:p.hard},{human:!1,color:Pt,level:p.hard}],grid:[[{player:5,dots:1},{player:5,dots:1},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:6,dots:1},{player:6,dots:1}],[{player:5,dots:1},{player:5,dots:1},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:6,dots:1},{player:6,dots:1}],[{player:-1,dots:0},{player:-1,dots:0},void 0,{player:-1,dots:0},{player:-1,dots:0},void 0,{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:0,dots:1},{player:0,dots:2},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:0,dots:2},{player:0,dots:1},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},void 0,{player:-1,dots:0},{player:-1,dots:0},void 0,{player:-1,dots:0},{player:-1,dots:0}],[{player:7,dots:1},{player:7,dots:1},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:4,dots:1},{player:4,dots:1}],[{player:7,dots:1},{player:7,dots:1},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:4,dots:1},{player:4,dots:1}]]},Ja=[{entity:"gameMap-small-0",campaignNumber:-1,locked:!0,players:[],grid:[[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}]]},{entity:"gameMap-small-1",campaignNumber:-1,locked:!0,players:[],grid:[[void 0,void 0,{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},void 0],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},void 0,void 0],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[void 0,void 0,{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[void 0,{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},void 0,void 0]]},{entity:"gameMap-small-2",campaignNumber:-1,locked:!0,players:[],grid:[[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},void 0,{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},void 0,{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},void 0,{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},void 0,{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}]]},{entity:"gameMap-medium-0",campaignNumber:-1,locked:!0,players:[],grid:[[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}]]},{entity:"gameMap-medium-1",campaignNumber:-1,locked:!0,players:[],grid:[[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},void 0,void 0,{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},void 0,void 0,{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},void 0,void 0,{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},void 0,void 0,{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}]]},{entity:"gameMap-medium-2",campaignNumber:-1,locked:!0,players:[],grid:[[void 0,void 0,void 0,{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[void 0,void 0,void 0,{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[void 0,void 0,{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},void 0,void 0],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},void 0,void 0,void 0],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},void 0,void 0,void 0]]},{entity:"gameMap-huge-0",campaignNumber:-1,locked:!0,players:[],grid:[[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}]]},{entity:"gameMap-huge-1",campaignNumber:-1,locked:!0,players:[],grid:[[{player:-1,dots:0},{player:-1,dots:0},void 0,{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},void 0,{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},void 0],[void 0,{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},void 0,{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},void 0,{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},void 0,{player:-1,dots:0}],[{player:-1,dots:0},void 0,{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}]]},{entity:"gameMap-huge-2",campaignNumber:-1,locked:!0,players:[],grid:[[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},void 0,void 0,{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},void 0,void 0,{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}]]},{entity:"gameMap-huge-3",campaignNumber:-1,locked:!0,players:[],grid:[[void 0,void 0,{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},void 0,void 0],[void 0,void 0,{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},void 0,void 0],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[void 0,void 0,{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},void 0,void 0],[void 0,void 0,{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},void 0,void 0]]},{entity:"gameMap-huge-4",campaignNumber:-1,locked:!0,players:[],grid:[[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},void 0,void 0,{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},void 0,void 0,{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},void 0,void 0,{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},void 0,void 0,{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},void 0,void 0,{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},void 0,void 0,{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}],[{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0},{player:-1,dots:0}]]},ta,aa,oa,ra,ya,ia,ca,ma,ua,ga,va,ha,fa,ba,xa,Ea,Ma,ka,wa,Ta,Ca,La,Sa,Pa,Ia,Ra,Ba,Na,qa,ja,Ka,Aa,Oa,$a,Ua,Wa,Ga,Fa,Da,za,Xa,Qa,Ya,Ha],Va=e=>{let{state:t}=e;const a=Object.values((0,yt.C)({state:t,name:r.ai})??{}),o=Object.values((0,yt.C)({state:t,name:r.box})??{}),l=a.map((e=>{const t=o.filter((t=>{let{player:a}=t;return a===e.entity}));return{aiEntity:e.entity,boxesSum:t.length}}));return t=(0,Qe.K)({name:r.game,entity:Me,state:t,update:e=>({statistics:[...e.statistics,l]})}),t},_a=e=>{let{state:t}=e;const a=Te({state:t});if(!a)return t;const{gameStarted:o,boxRotationQueue:l}=a;if(t=(0,Qe.K)({state:t,name:r.game,entity:Me,update:e=>{var a;return{turn:e.turn+1,lastBoxClickTimestamp:(null===(a=(0,Zt.hK)({state:t}))||void 0===a?void 0:a.timeNow)||0}}}),o&&0===l.length){const e=_t({state:t});if(!e)return t;const a=(0,i.X)({name:r.ai,state:t,entity:e.entity});if(!a)return t;if(t=(0,Qe.K)({state:t,name:r.game,entity:Me,update:e=>({currentPlayer:a.entity,moves:e.moves+1})}),a.active){t=Va({state:t});const e=(e=>{let{state:t,ai:a}=e;const o=Te({state:t});return(null==o?void 0:o.grid.reduce(((e,o)=>{const l=(0,i.X)({state:t,name:r.box,entity:o}),s=void 0===(null==l?void 0:l.player),d=(null==l?void 0:l.player)===a.entity;return s||d?e+1:e}),0))||0})({state:t,ai:a});if(0===e)t=(e=>{let{state:t,ai:a}=e;t=(0,Qe.K)({state:t,name:r.ai,entity:a.entity,update:()=>({active:!1})});const o=(0,yt.C)({state:t,name:r.ai}),l=Object.values(o||{}).reduce(((e,t)=>t.active?e+1:e),0);return 1===l?(t=(0,Qe.K)({state:t,name:r.game,entity:Me,update:()=>({gameStarted:!1})}),t=(e=>{let{state:t}=e;const a=Te({state:t});if(null!=a&&a.currentCampaignLevelEntity){var o;const e=Ja.findIndex((e=>{let{entity:t}=e;return t===(null==a?void 0:a.currentCampaignLevelEntity)}));t=(0,Qe.K)({state:t,name:r.gameMap,entity:(null===(o=Ja[e+1])||void 0===o?void 0:o.entity)??"",update:()=>({locked:!1})})}return Kt(t),t})({state:t}),it("setUIState",t),t):(t=_a({state:t}),t)})({state:t,ai:a});else if(!1===a.human){const e=Jt({state:t,ai:a}),o=(0,i.X)({name:m.f.transform,entity:(null==e?void 0:e.entity)||"",state:t});e?(t=et({state:t,data:{color:a.color,position:[(null==o?void 0:o.position[0])??0,(null==o?void 0:o.position[1])??0]}}),t=Xt({box:e,state:t,ai:a}),t=Dt({state:t,entity:e.entity})):t=_a({state:t})}t=na({state:t})}}return it("setUIState",t),t},Za=e=>{let{state:t,ai:a}=e;t=ct({state:t,name:r.ai});const o=Te({state:t});return o&&(t=(0,c.L)({state:t,data:{...o,playersQueue:a.map((e=>{let{entity:t}=e;return t}))}})),a.reduce(((e,t)=>(e=(0,at.J)({state:e,entity:t.entity}),(0,c.L)({state:e,data:t}))),t)},eo=Math.PI/3,to=e=>{let{gridMaxSideLength:t,maxTime:a,direction:o}=e;return e=>{let r=0,l=Ue.up;switch(o){case"down":r=(t-e[1])/t,l=Ue.down;break;case"up":r=e[1]/t,l=Ue.up;break;case"left":r=(t-e[0])/t,l=Ue.left;break;case"right":r=e[0]/t,l=Ue.right}return{timeout:Math.sin(r*eo)*a,boxRotationDirection:l}}},ao=e=>{let t=Ue.up;const a=[Math.abs(e[0]),Math.abs(e[1])],o=a[0]>a[1];return e[0]<0&&e[1]<0?t=o?Ue.left:Ue.down:e[0]>0&&e[1]<0?t=o?Ue.right:Ue.down:e[0]<0&&e[1]>0?t=o?Ue.left:Ue.up:e[0]>0&&e[1]>0&&(t=o?Ue.right:Ue.up),t},oo=e=>{let{gridMaxSideLength:t,maxTime:a,direction:o}=e;return e=>{const r=[t/2,t/2],l=[r[0]-e[0],r[1]-e[1]],s=Math.sqrt(Math.pow(l[0],2)+Math.pow(l[1],2)),d=Math.sqrt(Math.pow(r[0],2)+Math.pow(r[1],2));let p=0,n=Ue.up;switch(o){case"center":p=d-s,n=ao([l[0],l[1]]);break;case"outside":p=s,n=ao([-l[0],-l[1]])}return{timeout:Math.sin(p/d*eo)*a,boxRotationDirection:n}}};var ro=a(6538);const lo=e=>{switch(e){case d.easy:return p.easy;case d.medium:return p.medium;case d.hard:return p.hard;case d.random:const e=Math.floor(3*Math.random());return[p.easy,p.medium,p.hard][e]}},so=e=>{let{state:t,gameMap:a}=e;const o=Object.values((0,yt.C)({state:t,name:r.ai})??{}),l=e=>{var t;const r=null===(t=a.players[e??-1])||void 0===t?void 0:t.color;var l;if(r)return null===(l=o.find((e=>e.color[0]===r[0]&&e.color[1]===r[1]&&e.color[2]===r[2])))||void 0===l?void 0:l.entity};return a.grid.reduce(((e,t,a)=>t.reduce(((e,t,o)=>{if(!t)return e;const s=Xe().toString();e=(0,at.J)({state:e,entity:s}),e=(0,c.L)({state:e,data:{name:r.box,entity:s,isAnimating:!1,dots:t.dots,gridPosition:[o,a],player:-1===t.player?void 0:l(t.player)}});const d=Te({state:e});return d?Ce({state:e,data:{...d,grid:[...d.grid,s]}}):e}),e)),t)},po=e=>{var t;let{state:a,mapEntity:o}=e;(e=>{let{state:t}=e;const a=Te({state:t}),o=Math.sqrt((null==a?void 0:a.grid.length)||1)-1,l=250*o,s=[oo({gridMaxSideLength:o,maxTime:l,direction:"center"}),oo({gridMaxSideLength:o,maxTime:l,direction:"outside"}),to({gridMaxSideLength:o,maxTime:l,direction:"left"}),to({gridMaxSideLength:o,maxTime:l,direction:"right"}),to({gridMaxSideLength:o,maxTime:l,direction:"down"}),to({gridMaxSideLength:o,maxTime:l,direction:"up"})],d=s[Math.floor(s.length*Math.random())];null==a||a.grid.forEach((e=>{const a=(0,i.X)({state:t,entity:e,name:r.box}),o=(0,i.X)({state:t,entity:(null==a?void 0:a.player)||"",name:r.ai});if(a&&o){const r=d(a.gridPosition),l=r.timeout+500*Math.random();setTimeout((()=>{(0,Ke.Kn)({type:We.Type.rotateStart,payload:{color:o.color,texture:Pe({state:t,ai:o})[a.dots],direction:r.boxRotationDirection,boxEntity:e}})}),l)}}))})({state:a});const l=(0,i.X)({state:a,name:r.ai,entity:(null===(t=Te({state:a}))||void 0===t?void 0:t.currentPlayer)||""});if(l&&!l.human){const e=Jt({state:a,ai:l});e&&(a=Xt({box:e,state:a,ai:l}))}return a=(0,at.J)({state:a,entity:Ve}),a=(0,c.L)({state:a,data:{entity:Ve,name:r.marker,color:[1,1,1],position:[0,0]}}),it("setUIState",a),l&&setTimeout((()=>{(0,Ke.Kn)({type:ke.Type.shakeAiBoxes,payload:{ai:l}})}),3e3),a=(0,Qe.K)({state:a,name:r.game,entity:Me,update:()=>{var e;return{lastBoxClickTimestamp:(null===(e=(0,Zt.hK)({state:a}))||void 0===e?void 0:e.timeNow)||0}}}),a=(e=>{let{state:t,mapEntity:a}=e;const o=(0,i.X)({state:t,name:r.gameMap,entity:a}),{center:l,cameraDistance:s}=(e=>{let{grid:t}=e;const a=null!=t&&t[0]?(null==t?void 0:t[0].length)*Ae:Ae,o=void 0!==t?t.length*Ae:Ae;return{center:[(o-Ae)/2,(a-Ae)/2],cameraDistance:bt({value:(a>o?a:o)/2+.2,min:3,max:1/0})}})({grid:null==o?void 0:o.grid});return lt({state:t,data:{position:[l[0],l[1]],distance:s}})})({state:a,mapEntity:o}),it("setUIState",a),a},no=e=>{var t;let{state:a}=e;a=(0,Qe.K)({state:a,name:r.game,entity:Me,update:()=>({statistics:[],gameStarted:!0,page:s.customLevel})}),a=(e=>{let{state:t}=e;const a=Te({state:t});if(!a)return t;const o=(0,i.X)({state:t,name:r.gameMap,entity:a.customLevelSettings.mapEntity});return o?(t=Za({state:t,ai:a.customLevelSettings.players.map((e=>({...e,level:lo(a.customLevelSettings.difficulty)})))}),t=so({state:t,gameMap:o}),t):t})({state:a}),a=Va({state:a}),a=Ce({state:a,data:{currentPlayer:null===(t=_t({state:a}))||void 0===t?void 0:t.entity}});const o=Te({state:a});return o?(null!=o&&o.customLevelSettings.quickStart&&(a=(e=>{let{state:t}=e;const a=Te({state:t}),o=(null==a?void 0:a.grid.length)||1,l=o-o%((null==a?void 0:a.customLevelSettings.players.length)||1),s=Array.from({length:2*l}).reduce((e=>{const t=Te({state:e}),a=(0,i.X)({state:e,name:r.ai,entity:(null==t?void 0:t.currentPlayer)||""});if(!t||!a)return e;const o=Jt({state:e,ai:a,preferEmptyBoxes:!0});return o?(e=(0,Qe.K)({state:e,name:r.box,entity:o.entity,update:()=>({player:a.entity,dots:zt(o.dots)})}),e=(0,Qe.K)({state:e,name:r.game,entity:Me,update:()=>{var t;return{currentPlayer:(null===(t=_t({state:e}))||void 0===t?void 0:t.entity)||""}}}),e=Va({state:e})):e}),t);return s||t})({state:a})),a=po({state:a,mapEntity:null==o?void 0:o.customLevelSettings.mapEntity}),a):a};let yo;console.info('📐 call "window.loadAndMountDevtools()" to open devtools'),window.loadAndMountDevtools=()=>{a.e(26).then(a.bind(a,9026)),a.e(216).then(a.bind(a,5974)).then((e=>{let{debugSystem:t}=e;(0,Ke.Kn)({type:yo.Type.enable,payload:{debugSystem:t}})}))},function(e){let t;!function(e){e.enable="DevtoolsEvent-enable"}(t||(t={})),e.Type=t}(yo||(yo={}));const io=e=>{let{state:t,event:a}=e;switch(a.type){case ot.tP.Type.resize:return(e=>{let{state:t}=e;return t=lt({state:t,data:{}}),t})({state:t,event:a});case nt.Type.rotateRandomLogoBox:return(e=>{let{state:t}=e;const a=t.babylonjs.sceneRef,o=(0,i.X)({state:t,name:r.logo,entity:pt}),l=Te({state:t});if(!o||!a||!l)return t;const d=(()=>{const e=tt.flat().filter((e=>""!==e));return e[Math.floor(e.length*Math.random())]})(),p=(()=>{const e=Math.floor(me.length*Math.random());return me[e]})(),n=(()=>{const e=[Et,...qt().map((e=>{let{color:t}=e;return t}))];return e[Math.floor(e.length*Math.random())]})();return t=Je({state:t,boxUniqueId:d,texture:p,color:n,nextTurn:!1,shouldExplode:!1}),l.page===s.mainMenu&&setTimeout((()=>{(0,Ke.Kn)({type:nt.Type.rotateRandomLogoBox,payload:null})}),500*Math.random()+500),t})({state:t,event:a});case ke.Type.startCustomLevel:return no({state:t,event:a});case ke.Type.startCampaignLevel:return(e=>{let{state:t,event:{payload:{mapEntity:a}}}=e;return t=mt({state:t,event:{type:ke.Type.cleanScene,payload:{newPage:s.campaignLevel}}}),t=(0,Qe.K)({state:t,name:r.game,entity:Me,update:()=>({statistics:[],gameStarted:!0})}),t=(e=>{let{state:t,mapEntity:a}=e;if(!Te({state:t}))return t;const o=(0,i.X)({state:t,name:r.gameMap,entity:a});return o?(t=Za({state:t,ai:o.players.map(((e,t)=>({...e,name:r.ai,entity:(0,ro.P)({name:"ai"}),active:!0,textureSet:qt()[t].textureSet})))}),t=so({state:t,gameMap:o}),t):t})({state:t,mapEntity:a}),t=Va({state:t}),t=(0,Qe.K)({state:t,name:r.game,entity:Me,update:()=>{var e;return{currentPlayer:null===(e=_t({state:t}))||void 0===e?void 0:e.entity,currentCampaignLevelEntity:a}}}),t=(0,at.J)({state:t,entity:vt}),t=(0,c.L)({state:t,data:{entity:vt,name:r.tutorial}}),t=na({state:t}),t=po({state:t,mapEntity:a}),t})({state:t,event:a});case ke.Type.playerClick:return(e=>{let{state:t,event:a}=e;const o=Te({state:t});if(!o)return t;const{currentPlayer:l,gameStarted:s,boxRotationQueue:d}=o,p=(0,i.X)({state:t,name:r.box,entity:a.payload.boxEntity}),n=void 0===(null==p?void 0:p.player)||(null==p?void 0:p.player)===l,y=(0,i.X)({name:m.f.transform,entity:a.payload.boxEntity,state:t});if(y&&s&&0===d.length&&n){const e=(0,i.X)({name:r.ai,state:t,entity:l});p&&null!=e&&e.human&&(t=et({state:t,data:{color:e.color,position:[y.position[0],y.position[1]]}}),t=Xt({box:p,state:t,ai:e}))}return t})({state:t,event:a});case ke.Type.cleanScene:return mt({state:t,event:a});case ke.Type.changePlayers:return(e=>{var t,a;let{state:o}=e;const l=Te({state:o});if(!l)return o;const s=8===(null===(t=l.customLevelSettings.players)||void 0===t?void 0:t.length)?2:(null===(a=l.customLevelSettings.players)||void 0===a?void 0:a.length)+1;return o=(0,Qe.K)({state:o,entity:Me,name:r.game,update:e=>({customLevelSettings:{...e.customLevelSettings,players:qt().slice(0,s)}})}),it("setUIState",o),Kt(o),o})({state:t,event:a});case ke.Type.changeDifficulty:return(e=>{let{state:t}=e;const a=Te({state:t});if(!a)return t;const o=[d.easy,d.medium,d.hard,d.random],l=o.findIndex((e=>e===a.customLevelSettings.difficulty)),s=-1===l?o[0]:o[l+1]??o[0];return t=(0,Qe.K)({state:t,entity:Me,name:r.game,update:e=>({customLevelSettings:{...e.customLevelSettings,difficulty:s}})}),it("setUIState",t),Kt(t),t})({state:t,event:a});case ke.Type.changeQuickStart:return(e=>{let{state:t}=e;return t=(0,Qe.K)({state:t,entity:Me,name:r.game,update:e=>({customLevelSettings:{...e.customLevelSettings,quickStart:!e.customLevelSettings.quickStart}})}),it("setUIState",t),Kt(t),t})({state:t,event:a});case ke.Type.changeColorBlindMode:return(e=>{let{state:t}=e;return t=(0,Qe.K)({state:t,entity:Me,name:r.game,update:e=>({colorBlindMode:!e.colorBlindMode})}),it("setUIState",t),Kt(t),t})({state:t,event:a});case ke.Type.changeMapType:return(e=>{let{state:t,event:{payload:{gameMapEntity:a}}}=e;return t=(0,Qe.K)({state:t,entity:Me,name:r.game,update:e=>({customLevelSettings:{...e.customLevelSettings,mapEntity:a}})}),it("setUIState",t),Kt(t),t})({state:t,event:a});case ke.Type.shakeAiBoxes:return(e=>{let{state:t,event:{payload:{ai:a}}}=e;const o=Te({state:t}),l=(0,Zt.hK)({state:t});if(!1===(null==o?void 0:o.gameStarted))return t;const s=(null==o?void 0:o.lastBoxClickTimestamp)||0;return((null==l?void 0:l.timeNow)||0)>s+6e3&&(null==o||o.grid.forEach((e=>{const o=(0,i.X)({state:t,name:r.box,entity:e});if(!(0,i.X)({state:t,name:m.f.animation,entity:e})&&(null==o?void 0:o.player)===a.entity&&(0,i.X)({state:t,name:m.f.transform,entity:e})){const a=Math.PI/16;t=(0,c.L)({state:t,data:{name:m.f.animation,entity:e,deleteWhenFinished:!0,isPlaying:!0,isFinished:!1,currentTime:0,wrapMode:Fe.f.WrapMode.once,timingMode:Fe.f.TimingMode.smooth,properties:[{path:"rotation",component:m.f.transform,entity:e,keyframes:[{duration:150,timingFunction:"Linear",valueRange:[[0,0,0],[0,0,a]]},{duration:300,timingFunction:"Linear",valueRange:[[0,0,a],[0,0,-a]]},{duration:300,timingFunction:"Linear",valueRange:[[0,0,-a],[0,0,0]]},{duration:50,timingFunction:"Linear",valueRange:[[0,0,0],[0,0,0]]}]}]}})}}))),setTimeout((()=>{(0,Ke.Kn)({type:ke.Type.shakeAiBoxes,payload:{ai:a}})}),3e3),t})({state:t,event:a});case ke.Type.playAgainCustomLevel:return t=mt({state:t,event:{type:ke.Type.cleanScene,payload:{newPage:s.customLevel}}}),no({state:t,event:{type:ke.Type.startCustomLevel,payload:null}});case We.Type.rotationEnd:return(e=>{let{state:t,event:a}=e;const o=t.babylonjs.sceneRef,{boxEntity:l,texture:s,color:d,nextTurn:p,shouldExplode:n}=a.payload,y=(0,i.X)({state:t,name:r.box,entity:l}),c=(0,i.X)({state:t,name:m.f.transform,entity:l});if(!y||!o||!c)return t;t=(e=>{let{entity:t,state:a}=e;return(0,Qe.K)({state:a,name:r.game,entity:Me,update:e=>({boxRotationQueue:e.boxRotationQueue.filter((e=>e!==t))})})})({entity:y.entity,state:t}),t=(0,Qe.K)({state:t,name:m.f.transform,entity:l,update:()=>({rotation:[0,0,0]})});const u=o.getTransformNodeByUniqueId(parseInt(y.entity));u&&u.getChildren().forEach((e=>{const t=o.getMeshByUniqueId(e.uniqueId);t&&Se({mesh:t,color:d,texture:s,scene:o})})),t=(0,Qe.K)({state:t,name:r.box,entity:l,update:()=>({isAnimating:!1})});const g=Te({state:t}),v=(0,i.X)({state:t,name:r.ai,entity:(null==y?void 0:y.player)||""});return p&&v&&g&&y&&(n?t=(e=>{let{state:t,ai:a,box:o}=e;const{gridPosition:[r,l]}=o,s=Ft({state:t});return t=[Ut(s,l,r-1),Ut(s,l,r+1),Ut(s,l-1,r),Ut(s,l+1,r)].filter((e=>void 0!==e)).reduce(((e,t)=>(e=Xt({ai:a,box:t,state:e}),Dt({entity:t.entity,state:e}))),t),t})({state:t,box:y,ai:v}):0===g.boxRotationQueue.length&&(t=_a({state:t}))),t})({state:t,event:a});case We.Type.rotateStart:return(e=>{let{state:t,event:a}=e;return t=Je({state:t,boxUniqueId:a.payload.boxEntity,texture:a.payload.texture,color:a.payload.color,direction:a.payload.direction,nextTurn:!1}),t})({state:t,event:a});case _e.Type.appearAnimationEnd:return(e=>{let{state:t}=e;return t=(0,Qe.K)({state:t,entity:Ve,name:m.f.transform,update:()=>({position:[9999,9999,1]})}),t})({state:t,event:a});case yo.Type.enable:return(e=>{let{state:t,event:{payload:{debugSystem:a}}}=e;return a(t,"devtools")})({state:t,event:a})}return t},co=()=>{};var mo=a(4155);const uo=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function go(e,t){navigator.serviceWorker.register(e).then((e=>{e.onupdatefound=()=>{const a=e.installing;null!=a&&(a.onstatechange=()=>{"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((e=>{console.error("Error during service worker registration:",e)}))}mo.env.PUBLIC_URL="/kostki";var vo=a(7294),ho=a(6744);const{styled:fo,css:bo}=(0,ho.Th)({theme:{colors:{outline:"#595cff",gray50:"#F9FAFB",gray100:"#F3F4F6",gray200:"#E5E7EB",gray300:"#D1D5DB",gray400:"#9CA3AF",gray500:"#6B7280",gray600:"#4B5563",gray700:"#374151",gray800:"#1F2937",gray900:"#111827"},space:{},fontSizes:{},fonts:{},fontWeights:{},lineHeights:{},letterSpacings:{},sizes:{},borderWidths:{},borderStyles:{},radii:{},shadows:{},zIndices:{turnIndicatorHighlighter:1,turnIndicatorText:2,modal:3},transitions:{}},media:{bp1:"(max-width: 768px)",bp2:"(min-width: 769px)",bp3:"(min-width: 1024px)"}}),xo=fo("button",{border:"5px solid black",background:"white",padding:"10px 7px",fontSize:"1rem",whiteSpace:"nowrap",cursor:"pointer",transition:"0.2s transform",pointerEvents:"auto","&:hover":{transform:"scale(1.05)"},"&:focus":{transform:"scale(0.98)"}}),Eo=fo("div",{display:"flex"}),Mo=fo("div",{display:"grid",margin:"0 auto",padding:"0.5rem","@bp3":{maxWidth:"1920px"}}),ko=fo("div",{color:"Black",fontSize:"1.5rem"});let wo;const To=()=>{const[e,t]=(0,vo.useState)(void 0);return(0,vo.useEffect)((()=>{const e=e=>{e&&(wo=e,t(e))};return((e,t)=>{document.addEventListener("setUIState",(e=>t(e.detail)))})(0,e),()=>{((e,t)=>{document.removeEventListener("setUIState",t)})(0,e)}}),[]),e||wo},Co=()=>{const e=To(),t=e&&Te({state:e});return vo.createElement(Mo,{css:{gridTemplateRows:"20% 70% 10%",gridTemplateColumns:"20% 60% 20%",flex:1}},vo.createElement(Eo,{css:{flexDirection:"column",justifyContent:"center",alignItems:"center",gridRow:"2 / 2",gridColumn:"2 / 3"}},vo.createElement(xo,{css:{maxWidth:"500px",width:"100%"},onClick:()=>{(0,Ke.Kn)({type:ke.Type.cleanScene,payload:{newPage:s.campaignLevelSelect}})}},"Start"),vo.createElement(xo,{css:{marginTop:"100px",maxWidth:"500px",width:"100%"},onClick:()=>{(0,Ke.Kn)({type:ke.Type.cleanScene,payload:{newPage:s.customLevelSettings}})}},"Custom Level")),vo.createElement(ko,{css:{flexDirection:"column",justifyContent:"center",gridRow:"3 / 4",gridColumn:"3 / 3",color:"white",fontSize:"1rem"}},null==t?void 0:t.version))},Lo=e=>{var t;"Tab"===e.key&&(null===(t=document.body)||void 0===t||t.classList.add("enable-outline"))},So=()=>{var e;null===(e=document.body)||void 0===e||e.classList.remove("enable-outline")},Po=fo("div",{display:"grid"}),Io=()=>vo.createElement("svg",{width:"30",height:"30",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{margin:"-9px"}},vo.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})),Ro=()=>vo.createElement("svg",{width:"30",height:"30",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{margin:"-9px"}},vo.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})),Bo=(0,ho.zo)("div",{display:"grid",gap:"1px",maxHeight:"100%",margin:"0 auto",alignItems:"center",alignContent:"center","@bp1":{gap:"3px"}}),No=(0,ho.zo)("div",{borderWidth:"1px",borderStyle:"solid",borderColor:"black",boxSizing:"border-box",backgroundColor:"white",aspectRatio:"1 / 1","@bp1":{borderWidth:"2px"}}),qo=e=>{var t,a,o,r,l;let{gameMap:s}=e;return vo.createElement(Bo,{css:{gridTemplateColumns:`repeat(${null===(t=s.grid[0])||void 0===t?void 0:t.length}, 1fr)`,gridTemplateRows:`repeat(${(null===(a=s.grid)||void 0===a?void 0:a.length)-1||0}, 1fr)`,aspectRatio:`${null===(o=s.grid)||void 0===o?void 0:o.length} / ${null===(r=s.grid)||void 0===r||null===(l=r[0])||void 0===l?void 0:l.length}`}},s.grid.map(((e,t)=>e.reduce(((a,o,r)=>{var l;if(!o)return a;const d=(null===(l=s.players[o.player??-1])||void 0===l?void 0:l.color)??Et,p=r,n=e.length-t;return[...a,vo.createElement(No,{key:`${r}-${t}`,css:{gridColumn:`${p+1} / ${p+1}`,gridRow:`${n+1} / ${n+1}`,backgroundColor:`rgb(${255*d[0]},${255*d[1]},${255*d[2]})`}})]}),[]))).flat())},jo=(0,ho.zo)(Eo,{overflowX:"auto",gap:"10px",userSelect:"all",pointerEvents:"all",padding:"10px",width:"100%"}),Ko=e=>{let{css:t,gameMaps:a,selectedMapEntity:o}=e;const[r,l]=(0,vo.useState)(!1);return(0,vo.useEffect)((()=>{const e=document.querySelector("#mapList");if(!e)return;const t=t=>{e.scrollLeft+=t.deltaY};return null==e||e.addEventListener("wheel",t),()=>{null==e||e.removeEventListener("wheel",t)}}),[]),(0,vo.useLayoutEffect)((()=>{if(!r){const e=document.querySelector("#mapList"),t=document.querySelector(`#${o??""}`);if(e&&t){const a=t.getBoundingClientRect();e.scrollTo({left:a.left-a.width/2}),e.scrollLeft=a.left-a.width/2,l(!0)}}}),[o,r]),vo.createElement(jo,{id:"mapList",css:t},a.map((e=>vo.createElement(xo,{id:e.entity,key:e.entity,css:{padding:"5px",aspectRatio:"1 / 1",height:"100%",border:"none",transition:"0.2s transform, 0.2s background-color",backgroundColor:e.entity===o?"rgba(255,255,255,0.5)":"rgba(255,255,255,0.0)"},onClick:()=>{return t=e.entity,(0,Ke.Kn)({type:ke.Type.changeMapType,payload:{gameMapEntity:t}});var t}},vo.createElement(qo,{gameMap:e})))))},Ao=()=>{var e;const t=To(),a=t&&Te({state:t}),o=null==a?void 0:a.customLevelSettings.mapEntity,l=Object.values(t?(0,yt.C)({state:t,name:r.gameMap})??{}:{}).filter((e=>{let{campaignNumber:t}=e;return-1===t}));return a&&l?vo.createElement(Mo,{css:{gridTemplateRows:"1fr 1fr 1fr",gridTemplateColumns:"1fr 1fr",gridGap:"1rem",flex:1}},vo.createElement(Ko,{selectedMapEntity:o??"",gameMaps:l,css:{gridRow:"1 / 1",gridColumn:"1 / 3"}}),vo.createElement(Po,{css:{gridTemplateRows:"1fr 1fr 1fr 1fr",gridTemplateColumns:"1fr","@bp2":{gridTemplateRows:"1fr 1fr",gridTemplateColumns:"1fr 1fr"},gridGap:"0.5rem",gridRow:"2 / 2",gridColumn:"1 / 3"}},vo.createElement(xo,{css:{display:"flex",justifyContent:"space-between",gridRow:"1 / 1",gridColumn:"1 / 1",alignSelf:"center"},onClick:()=>(0,Ke.Kn)({type:ke.Type.changeDifficulty,payload:null})},vo.createElement("div",null,"Difficulty"),vo.createElement("div",null,(e=>{switch(e){case d.random:return"Random";case d.easy:return"Easy";case d.medium:return"Medium";case d.hard:return"Hard"}})(a.customLevelSettings.difficulty))),vo.createElement(xo,{css:{display:"flex",justifyContent:"space-between",gridRow:"2 / 2",gridColumn:"1 / 1",alignSelf:"center","@bp2":{gridRow:"1 / 1",gridColumn:"2 / 2"}},onClick:()=>(0,Ke.Kn)({type:ke.Type.changePlayers,payload:null})},vo.createElement("div",null,"Players"),vo.createElement("div",null,null===(e=a.customLevelSettings.players)||void 0===e?void 0:e.length)),vo.createElement(xo,{css:{display:"flex",justifyContent:"space-between",gridRow:"3 / 3",gridColumn:"1 / 1",alignSelf:"center","@bp2":{gridRow:"2 / 2",gridColumn:"1 / 1"}},onClick:()=>(0,Ke.Kn)({type:ke.Type.changeQuickStart,payload:null})},vo.createElement("div",null,"Quick Start"),vo.createElement("div",null,a.customLevelSettings.quickStart?vo.createElement(Io,null):vo.createElement(Ro,null))),vo.createElement(xo,{css:{display:"flex",justifyContent:"space-between",gridRow:"4 / 4",gridColumn:"1 / 1",alignSelf:"center","@bp2":{gridRow:"2 / 2",gridColumn:"2 / 2"}},onClick:()=>(0,Ke.Kn)({type:ke.Type.changeColorBlindMode,payload:null})},vo.createElement("div",null,"Color Blind Mode"),vo.createElement("div",null,a.colorBlindMode?vo.createElement(Io,null):vo.createElement(Ro,null)))),vo.createElement(Eo,{css:{flexDirection:"column",justifyContent:"center",gridRow:"3 / 3",gridColumn:"1 / 1"}},vo.createElement(xo,{onClick:()=>(0,Ke.Kn)({type:ke.Type.cleanScene,payload:{newPage:s.mainMenu}})},"Back")),vo.createElement(Eo,{css:{flexDirection:"column",justifyContent:"center",gridRow:"3 / 3",gridColumn:"2 / 2"}},vo.createElement(xo,{onClick:()=>(0,Ke.Kn)({type:ke.Type.startCustomLevel,payload:null})},"Start"))):null},Oo=()=>vo.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},vo.createElement("path",{d:"M1.5 3C1.22386 3 1 3.22386 1 3.5C1 3.77614 1.22386 4 1.5 4H13.5C13.7761 4 14 3.77614 14 3.5C14 3.22386 13.7761 3 13.5 3H1.5ZM1 7.5C1 7.22386 1.22386 7 1.5 7H13.5C13.7761 7 14 7.22386 14 7.5C14 7.77614 13.7761 8 13.5 8H1.5C1.22386 8 1 7.77614 1 7.5ZM1 11.5C1 11.2239 1.22386 11 1.5 11H13.5C13.7761 11 14 11.2239 14 11.5C14 11.7761 13.7761 12 13.5 12H1.5C1.22386 12 1 11.7761 1 11.5Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})),$o=fo("div",{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"auto"}),Uo=(0,ho.F4)({"0%":{opacity:0,transform:"scale(0.9) translateY(100px)"},"100%":{opacity:1,transform:"scale(1) translateY(0px)"}}),Wo=fo("div",{border:"5px solid black",background:"white",padding:"1rem","@bp1":{width:"80%",height:"40%"},"@bp2":{width:"70%",height:"40%"},"@bp3":{width:"40%",height:"50%"},animation:`${Uo.toString()} 300ms`}),Go=e=>{let{children:t,css:a}=e;return vo.createElement($o,null,vo.createElement(Wo,{css:a},t))},Fo=(0,ho.zo)("div",{backgroundColor:"rgba(255,255,255,0.6)",position:"absolute",top:"0",left:"0",width:"100%",transition:"transform 0.5s cubic-bezier(.77,0,.18,1) 0s",zIndex:"$turnIndicatorHighlighter"}),Do=e=>`TurnIndicator${e}`,zo=e=>{let{ai:t}=e;const a=t.find((e=>{let{hasCurrentTurn:t}=e;return t}))??t[0],o=document.getElementById(Do((null==a?void 0:a.entity)??"")),r=null==o?void 0:o.getBoundingClientRect(),l=o?[o.offsetLeft,o.offsetTop]:[0,0];return vo.createElement(Eo,{css:{flexDirection:"column",position:"relative"}},vo.createElement(Fo,{css:{transform:`translate(${l[0]}px, ${l[1]}px)`,height:`${(null==r?void 0:r.height)??0}px`}}),t.map((e=>{let{entity:t,name:a,color:o,active:r}=e;return vo.createElement(Eo,{id:Do(t),key:t,css:{alignItems:"center",padding:"0.125rem",paddingRight:"1rem",zIndex:"$turnIndicatorText"}},vo.createElement(Eo,{css:{position:"relative",width:"0.5rem",height:"0.5rem",border:"0.125rem solid black","@bp2":{width:"2rem",height:"2rem",border:"0.25rem solid black"},marginRight:"0.5rem",backgroundColor:`rgb(${255*o[0]}, ${255*o[1]}, ${255*o[2]})`}}),vo.createElement(ko,{css:{fontSize:"0.75rem",textDecoration:r?"":"line-through",color:r?"$gray900":"$gray700","@bp2":{fontSize:"1.5rem"}}},a))})))},Xo=(0,ho.zo)("div",{position:"relative",width:"100%",height:"100%"}),Qo=(0,ho.zo)("svg",{position:"absolute",top:0,left:0,width:"100%",height:"100%"}),Yo="rgb(17, 24, 39)",Ho=21,Jo=()=>{var e,t;const a=(0,vo.useRef)(null),[o,l]=(0,vo.useState)([]),s=To(),d=s&&Te({state:s}),p=null===(e=a.current)||void 0===e?void 0:e.getBoundingClientRect(),n=(null==p?void 0:p.height)??0,y=(null==p?void 0:p.width)??0,i=n-Ho,c=(null==d?void 0:d.grid.length)??0,m=(null==d?void 0:d.statistics.length)??0,u=(null==d||null===(t=d.statistics)||void 0===t?void 0:t[0].length)??0,g=m/u,v=Array.from({length:5}).map(((e,t)=>Math.floor(.2*g*(t+1))));return(0,vo.useEffect)((()=>{var e,t;const a=(e=>e?Object.values((0,yt.C)({state:e,name:r.ai})??{}).reduce(((e,t)=>(e[t.entity]=t.color,e)),{}):{})(s),o=null==d||null===(e=d.statistics)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.map(((e,t)=>{let{aiEntity:o}=e;const r=a[o]??[0,0,0],l=null==d?void 0:d.statistics.map(((e,a)=>{const{boxesSum:o}=e[t],r=a/(m-1)*y,l=o/c*i,s=((e,t)=>e.slice(0,t).reduce(((e,t)=>{let{boxesSum:a}=t;return e+a}),0))(e,t)/c*i;return`${r},${i-l-s}`}));return{color:r,points:[`0,${i}`,...l,`${y},${i}`].join(" "),aiEntity:o}}));l(o??[])}),[c,m,null==d?void 0:d.statistics,null==d?void 0:d.grid.length,s,y,i]),vo.createElement(Xo,{ref:a},vo.createElement(Qo,{width:"100%",height:"100%",version:"1.1",viewBox:`0 0 ${y??0} ${n??0}`,preserveAspectRatio:"xMinYMin meet"},[...o].reverse().map((e=>{let{aiEntity:t,points:a,color:o}=e;return vo.createElement("polygon",{key:t,points:a,fill:`rgb(${255*o[0]},${255*o[1]},${255*o[2]})`})})),vo.createElement("text",{x:"5",y:"0",dominantBaseline:"hanging"},"Dices (max ",c,")"),vo.createElement("line",{x1:"0",y1:n-Ho,x2:"0",y2:"0",style:{stroke:Yo,strokeWidth:"4"}}),vo.createElement("text",{x:"0",y:n,dominantBaseline:"ideographic"},"Turns"),vo.createElement("line",{x1:"0",y1:n-Ho,x2:y,y2:n-Ho,style:{stroke:Yo,strokeWidth:"2"}}),v.map(((e,t)=>{const a=.2*y*(t+1),o=n,r=4===t;return vo.createElement(vo.Fragment,{key:t},vo.createElement("line",{x1:r?a-2:a,y1:o-4-Ho,x2:a,y2:o-Ho,style:{stroke:Yo,strokeWidth:"2"}}),vo.createElement("text",{x:a,y:o,dominantBaseline:"ideographic",textAnchor:r?"end":"middle"},e))}))))},Vo=e=>{let{onCancel:t,onAccept:a}=e;return vo.createElement(Go,{css:{display:"flex",flexDirection:"column",justifyContent:"space-around"}},vo.createElement(ko,{css:{textAlign:"center"}},"Are you sure you want to finish the game?"),vo.createElement(Eo,{css:{justifyContent:"space-evenly"}},vo.createElement(xo,{css:{width:"40%"},onClick:t},"No"),vo.createElement(xo,{css:{width:"40%"},onClick:a},"Yes")))},_o=()=>vo.createElement(Go,{css:{display:"flex",flexDirection:"column",justifyContent:"space-around"}},vo.createElement(ko,{css:{textAlign:"center"}},"You lost"),vo.createElement(Eo,{css:{width:"90%",height:"90%",alignSelf:"center",margin:"1rem"}},vo.createElement(Jo,null)),vo.createElement(Eo,{css:{justifyContent:"space-evenly"}},vo.createElement(xo,{css:{width:"40%"},onClick:()=>{(0,Ke.Kn)({type:ke.Type.cleanScene,payload:{newPage:s.mainMenu}})}},"Back to main menu"),vo.createElement(xo,{css:{width:"40%"},onClick:()=>{(0,Ke.Kn)({type:ke.Type.playAgainCustomLevel,payload:null})}},"Play again"))),Zo=e=>{const t=Te({state:e});return(null==t?void 0:t.playersQueue.map((t=>(0,i.X)({state:e,name:r.ai,entity:t}))).filter((e=>!!e))).map((e=>{let a="";if(e.human)a="You";else switch(e.level){case p.disabled:a="Enemy";break;case p.easy:a="Enemy easy";break;case p.medium:a="Enemy medium";break;case p.hard:a="Enemy hard";break;case p.random:a="Enemy"}return{entity:e.entity,color:e.color,active:e.active,human:e.human,hasCurrentTurn:(null==t?void 0:t.currentPlayer)===e.entity,name:a}}))},er=()=>vo.createElement(Go,{css:{display:"flex",flexDirection:"column",justifyContent:"space-around"}},vo.createElement(ko,{css:{textAlign:"center"}},"You won"),vo.createElement(Eo,{css:{width:"90%",height:"90%",alignSelf:"center",margin:"1rem"}},vo.createElement(Jo,null)),vo.createElement(Eo,{css:{justifyContent:"space-evenly"}},vo.createElement(xo,{css:{width:"40%"},onClick:()=>{(0,Ke.Kn)({type:ke.Type.cleanScene,payload:{newPage:s.mainMenu}})}},"Main menu"),vo.createElement(xo,{css:{width:"40%"},onClick:()=>{(0,Ke.Kn)({type:ke.Type.playAgainCustomLevel,payload:null})}},"Play again")));var tr;!function(e){e.playerWon="playerWon",e.playerLost="playerLost",e.gameInProgress="gameInProgress"}(tr||(tr={}));const ar=()=>{const e=To(),t=e&&Te({state:e}),a=e?Zo(e):[],[o,l]=(0,vo.useState)(!1),d=t&&e?(e=>{let{aiList:t,game:a,state:o}=e;if(!0===a.gameStarted)return tr.gameInProgress;const l=t.find((e=>e.human)),s=a.grid.reduce(((e,t)=>{const a=(0,i.X)({state:o,name:r.box,entity:t});return(null==a?void 0:a.player)===(null==l?void 0:l.entity)?e+1:e}),0);return 0===s?tr.playerLost:s===a.grid.length?tr.playerWon:tr.gameInProgress})({game:t,aiList:a,state:e}):tr.gameInProgress;return vo.createElement(Mo,{css:{gridTemplateRows:"4rem 1fr",gridTemplateColumns:"1fr 4rem",flex:1}},o&&vo.createElement(Vo,{onCancel:()=>l(!1),onAccept:()=>(0,Ke.Kn)({type:ke.Type.cleanScene,payload:{newPage:s.mainMenu}})}),d===tr.playerWon&&vo.createElement(er,null),d===tr.playerLost&&vo.createElement(_o,null),vo.createElement(Eo,{css:{gridRow:"1 / 3",gridColumn:"1 / 1"}},vo.createElement(zo,{ai:a})),vo.createElement(xo,{css:{gridRow:"1 / 1",gridColumn:"2 / 2",display:"flex",alignContent:"center",alignItems:"center",padding:"0.75rem"},onClick:()=>{l(!0)}},vo.createElement(Oo,null)))},or=()=>vo.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},vo.createElement("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),vo.createElement("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})),rr=()=>{const e=To();if(!e)return null;const t=(0,yt.C)({state:e,name:r.gameMap}),a=Object.values(t??{}).filter((e=>{let{campaignNumber:t}=e;return-1!==t}));return vo.createElement(Mo,{css:{gridTemplateRows:"10fr 1fr",gridTemplateColumns:"1fr",flex:1}},vo.createElement(Po,{css:{gridTemplateColumns:"repeat(4, 1fr)",alignContent:"baseline",gridGap:"0.5rem","@bp2":{gridTemplateColumns:"repeat(10, 1fr)",gridGap:"1rem"},overflowY:"auto",pointerEvents:"all",overflowX:"hidden"}},a.map((e=>vo.createElement(xo,{key:e.entity,onClick:()=>{return!e.locked&&(t=e.entity,(0,Ke.Kn)({type:ke.Type.startCampaignLevel,payload:{mapEntity:t}}));var t},css:{flex:"1",padding:"3px",aspectRatio:"1 / 1",border:"none",transition:"0.2s transform, 0.2s background-color",backgroundColor:"rgba(255,255,255,0.5)"}},e.locked?vo.createElement(or,null):vo.createElement(qo,{gameMap:e}))))),vo.createElement(Eo,{css:{flexDirection:"column",justifyContent:"center",gridRow:"2 / ",gridColumn:"1 / 1"}},vo.createElement(xo,{onClick:()=>(0,Ke.Kn)({type:ke.Type.cleanScene,payload:{newPage:s.mainMenu}})},"Back")))};let lr;!function(e){e.playerWon="playerWon",e.playerLost="playerLost",e.gameInProgress="gameInProgress"}(lr||(lr={}));const sr=fo("div",{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none"}),dr=fo("div",{border:"5px solid black",background:"rgba(255,255,255,0.9)",padding:"1rem",overflowY:"auto",alignSelf:"end",marginBottom:"10px","@bp1":{width:"80%",height:"20%"},"@bp2":{width:"70%",height:"20%"},"@bp3":{width:"40%",height:"20%"},animation:`${Uo.toString()} 300ms`}),pr=e=>{let{children:t}=e;return vo.createElement(sr,null,vo.createElement(dr,null,vo.createElement(ko,null,t)))},nr=e=>{let{nextMapEntity:t}=e;return vo.createElement(Go,{css:{display:"flex",flexDirection:"column",justifyContent:"space-around"}},vo.createElement(ko,{css:{textAlign:"center"}},"You won"),vo.createElement(Eo,{css:{width:"90%",height:"90%",alignSelf:"center",margin:"1rem"}},vo.createElement(Jo,null)),vo.createElement(Eo,{css:{justifyContent:"space-evenly"}},vo.createElement(xo,{css:{width:"40%"},onClick:()=>{(0,Ke.Kn)({type:ke.Type.cleanScene,payload:{newPage:s.campaignLevelSelect}})}},"Levels list"),t?vo.createElement(xo,{css:{width:"40%"},onClick:()=>{(0,Ke.Kn)({type:ke.Type.startCampaignLevel,payload:{mapEntity:t}})}},"Next level"):null))},yr=e=>{var t,a;let{state:o,currentCampaignLevelEntity:l}=e;const s=(null===(t=(0,i.X)({state:o,entity:l,name:r.gameMap}))||void 0===t?void 0:t.campaignNumber)??0,d=(0,yt.C)({state:o,name:r.gameMap});return null===(a=Object.values(d??{}).find((e=>{let{campaignNumber:t}=e;return t===s+1})))||void 0===a?void 0:a.entity},ir=()=>{const e=To(),t=e&&Te({state:e}),a=e&&(0,i.X)({state:e,entity:vt,name:r.tutorial}),o=e?Zo(e):[],[l,d]=(0,vo.useState)(!1),p=t&&e?(e=>{let{aiList:t,game:a,state:o}=e;if(!0===a.gameStarted)return lr.gameInProgress;const l=t.find((e=>e.human)),s=a.grid.reduce(((e,t)=>{const a=(0,i.X)({state:o,name:r.box,entity:t});return(null==a?void 0:a.player)===(null==l?void 0:l.entity)?e+1:e}),0);return 0===s?lr.playerLost:s===a.grid.length?lr.playerWon:lr.gameInProgress})({game:t,aiList:o,state:e}):lr.gameInProgress;return vo.createElement(Mo,{css:{gridTemplateRows:"4rem 1fr",gridTemplateColumns:"1fr 4rem",flex:1}},l&&vo.createElement(Vo,{onCancel:()=>d(!1),onAccept:()=>(0,Ke.Kn)({type:ke.Type.cleanScene,payload:{newPage:s.mainMenu}})}),p===lr.playerWon&&vo.createElement(nr,{nextMapEntity:e?yr({state:e,currentCampaignLevelEntity:(null==t?void 0:t.currentCampaignLevelEntity)??""}):""}),p===lr.playerLost&&vo.createElement(_o,null),(null==a?void 0:a.tipText)&&vo.createElement(pr,null,null==a?void 0:a.tipText),vo.createElement(Eo,{css:{gridRow:"1 / 3",gridColumn:"1 / 1"}},vo.createElement(zo,{ai:o})),vo.createElement(xo,{css:{gridRow:"1 / 1",gridColumn:"2 / 2",display:"flex",alignContent:"center",alignItems:"center",padding:"0.75rem"},onClick:()=>{d(!0)}},vo.createElement(Oo,null)))};var cr=a(745);const mr=(0,ho.zY)({"*":{fontFamily:"Sans-serif",userSelect:"none"},".enable-outline *:focus":{outlineWidth:"10px",outlineStyle:"solid",outlineColor:"$outline"}}),ur=e=>{var t;let{state:a}=e;(0,vo.useEffect)((()=>(window.addEventListener("keydown",Lo),()=>{window.removeEventListener("keydown",Lo)})),[]),(0,vo.useEffect)((()=>(window.addEventListener("click",So),()=>{window.removeEventListener("click",So)})),[]),mr();const o=To();switch(null===(t=Te({state:o||a}))||void 0===t?void 0:t.page){case s.mainMenu:return vo.createElement(Co,null);case s.campaignLevelSelect:return vo.createElement(rr,null);case s.campaignLevel:return vo.createElement(ir,null);case s.customLevelSettings:return vo.createElement(Ao,null);case s.customLevel:return vo.createElement(ar,null);case void 0:return null}};var gr=a(2352),vr=(a(3434),a(5010)),hr=a(4327),fr=a(6842),br=a(2587),xr=a(9509);const Er=document.getElementById("game"),Mr="humanPlayer",kr=new gr.D(Er,!0,{preserveDrawingBuffer:!0,stencil:!0,disableWebGL2Support:!1}),wr=new vr.x(kr);kr.runRenderLoop((()=>{wr&&wr.activeCamera&&wr.render()}));const Tr=new hr.x("UniversalCamera",new Re.P(0,0,-1),wr);Tr.mode=fr.V.ORTHOGRAPHIC_CAMERA;const Cr=new br.e("light",new Re.P(0,0,1),wr);Cr.intensity=1,Cr.diffuse=new Le.Wo(1,1,1),Cr.specular=new Le.Wo(1,1,1),Cr.groundColor=new Le.Wo(1,1,1);{var Lr;"serviceWorker"in navigator&&function(e){if("serviceWorker"in navigator){if(new URL(mo.env.PUBLIC_URL,window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(()=>{const t=`${mo.env.PUBLIC_URL??""}/service-worker.js`;uo?(function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((a=>{const o=a.headers.get("content-type");404===a.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then((e=>{e.unregister().then((()=>{window.location.reload()})).catch(co)})).catch(co):go(e,t)})).catch((()=>{console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")})).catch(co)):go(t,e)}))}}({onUpdate:co,onSuccess:co}),wr.clearColor=new Le.HE(0,0,0,0),null===(Lr=document.querySelector("#loader"))||void 0===Lr||Lr.remove();let e=(e=>{var t;let{scene:a,camera:l,Vector3:n}=e,y=(0,Ot.y0)({scene:a,camera:l,Vector3:n,StandardMaterial:Be.K,MeshBuilder:Ne.V,Texture:g.x,Color3:Le.Wo});(0,Ke.Ib)(io),y=(e=>(0,o.FI)({state:e,name:r.box,componentName:r.box,create:Oe,remove:$e}))(y),y=(e=>(0,o.FI)({state:e,name:r.ai,componentName:r.ai}))(y),y=(e=>(0,o.FI)({state:e,name:r.game,componentName:r.game,create:Ee}))(y),y=(e=>(0,o.FI)({state:e,name:r.marker,componentName:r.marker,create:e=>{let{state:t,component:a}=e;const o=1.4;t=(0,c.L)({state:t,data:(0,De.$e)({entity:a.entity,position:[9999,9999,9999],scale:[o,o,1]})});const r=Xe();return t=(0,c.L)({state:t,data:{entity:a.entity,name:m.f.material,uniqueId:r,diffuseTexture:Ge,diffuseColor:[1,0,1,0]}}),t=(0,c.L)({state:t,data:{entity:a.entity,name:m.f.mesh,type:Fe.o.plane,uniqueId:r,width:o,height:o,updatable:!1,sideOrientation:0,materialEntity:[a.entity]}}),t},remove:e=>{let{state:t}=e;return t=(0,ze.S)({state:t,entity:Ve}),t}}))(y),y=(e=>(0,o.FI)({state:e,name:r.logo,componentName:r.logo,create:st,remove:dt}))(y),y=(e=>(0,o.FI)({state:e,name:r.tutorial,componentName:r.tutorial,create:e=>{let{state:t}=e;t=(0,c.L)({state:t,data:(0,De.$e)({entity:vt,position:[9999,9999,9999],scale:[1,1,1]})}),t=(0,c.L)({state:t,data:{entity:vt,name:m.f.material,uniqueId:parseInt(ht),diffuseTexture:gt,diffuseColor:[1,1,1,0]}}),t=(0,c.L)({state:t,data:{entity:vt,name:m.f.mesh,type:Fe.o.plane,uniqueId:parseInt(ht),width:1,height:1,updatable:!1,sideOrientation:0,materialEntity:[vt]}}),t=(0,c.L)({state:t,data:{name:m.f.animation,entity:vt,deleteWhenFinished:!1,isPlaying:!0,isFinished:!1,currentTime:0,wrapMode:Fe.f.WrapMode.loop,timingMode:Fe.f.TimingMode.smooth,properties:[{path:"scale",component:m.f.transform,entity:vt,keyframes:[{duration:500,timingFunction:"Linear",valueRange:[[.9,.9,.9],[1.2,1.2,1.2]]},{duration:500,timingFunction:"Linear",valueRange:[[1.2,1.2,1.2],[.9,.9,.9]]}]}]}});const a=t.babylonjs.sceneRef;if(a){const e=a.getMeshByUniqueId(parseInt(ht));e&&(e.isPickable=!1)}return t},remove:e=>{let{state:t}=e;return t=(0,ze.S)({state:t,entity:vt}),t=(0,ze.S)({state:t,entity:ht}),t}}))(y),y=(0,at.J)({state:y,entity:Mr}),y=(0,c.L)({state:y,data:{entity:Mr,name:r.ai,human:!0,level:p.hard,color:[0,0,1],textureSet:["","","","","","",""],active:!0}});const i=(()=>{const e=JSON.parse(localStorage.getItem(jt)||"null");if("object"==typeof e&&null!==e){const t=e;let a=d.easy;switch(t.difficulty){case d.easy:a=d.easy;break;case d.medium:a=d.medium;break;case d.hard:a=d.hard;break;case d.random:a=d.random}return{unlockedCampaignMapEntities:t.unlockedCampaignMapEntities??[],difficulty:a,colorBlindMode:(null==t?void 0:t.colorBlindMode)??!1,players:(null==t?void 0:t.players)??qt().slice(0,4),quickStart:(null==t?void 0:t.quickStart)??!0,mapEntity:(null==t?void 0:t.mapEntity)??"",version:(null==t?void 0:t.version)??""}}return{unlockedCampaignMapEntities:[],difficulty:d.easy,colorBlindMode:!1,players:qt().slice(0,4),quickStart:!0,mapEntity:"",version:""}})();y=(e=>{let{state:t,savedData:a}=e;return Ja.forEach((e=>{t=(0,at.J)({state:t,entity:e.entity});const o=!a.unlockedCampaignMapEntities.find((t=>t===e.entity));t=(0,c.L)({state:t,data:{name:r.gameMap,...e,locked:!1!==e.locked&&o}})})),t})({state:y,savedData:i});const u=null===(t=Object.values((0,yt.C)({state:y,name:r.gameMap})??{}).find((e=>{let{campaignNumber:t}=e;return-1===t})))||void 0===t?void 0:t.entity;return y=(0,at.J)({state:y,entity:Me}),y=(0,c.L)({state:y,data:{version:"0.0.25",page:s.mainMenu,lastBoxClickTimestamp:0,entity:Me,name:r.game,moves:0,grid:[],turn:0,currentCampaignLevelEntity:"",currentPlayer:Mr,gameStarted:!1,playersQueue:[],boxRotationQueue:[],colorBlindMode:i.colorBlindMode,statistics:[],customLevelSettings:{players:i.players,difficulty:i.difficulty,quickStart:i.quickStart,mapEntity:i.mapEntity||u||""}}}),a&&(y=(0,c.L)({state:y,data:{entity:ot.lw,name:m.f.camera,position:[0,0],distance:5,...$t(5,a)}})),y=ut({state:y,page:s.mainMenu}),y})({scene:wr,camera:Tr,Vector3:Re.P});if((e=>{let{state:t}=e;const a=document.getElementById("gameUi");a&&(0,cr.s)(a).render(vo.createElement(vo.StrictMode,null,vo.createElement(ur,{state:t})))})({state:e}),e.babylonjs.sceneRef){const t=()=>{e=(0,xr.P)({state:e})};e.babylonjs.sceneRef.registerBeforeRender(t)}window.addEventListener("resize",(()=>{(0,Ke.Kn)({type:ot.tP.Type.resize,payload:{}}),kr.resize()}))}}},e=>{e.O(0,[216],(()=>(1363,e(e.s=1363)))),e.O()}]);